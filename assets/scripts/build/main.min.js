void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){"use strict";function d(c){f[c]||(f[c]=!0,a.migrateWarnings.push(c),b.console&&console.warn&&!a.migrateMute&&(console.warn("JQMIGRATE: "+c),a.migrateTrace&&console.trace&&console.trace()))}function e(b,e,f,g){if(Object.defineProperty)try{return Object.defineProperty(b,e,{configurable:!0,enumerable:!0,get:function(){return d(g),f},set:function(a){d(g),f=a}}),c}catch(h){}a._definePropertyBroken=!0,b[e]=f}var f={};a.migrateWarnings=[],!a.migrateMute&&b.console&&console.log&&console.log("JQMIGRATE: Logging is active"),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g={},h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g,"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,g){var i=e.toLowerCase(),j=b&&b.nodeType;return g&&4>h.length&&(d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(j)&&a.isFunction(a.fn[e]))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[i]&&m.test(i)&&(a.attrHooks[i]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(i)&&d("jQuery.fn.attr('"+i+"') may use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var e=(a.nodeName||"").toLowerCase();return"button"===e?j.apply(this,arguments):("input"!==e&&"option"!==e&&d("jQuery.fn.attr('value', val) no longer sets properties"),a.value=b,c)}};var o,p,q=a.fn.init,r=a.parseJSON,s=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;a.fn.init=function(b,c,e){var f;return b&&"string"==typeof b&&!a.isPlainObject(c)&&(f=s.exec(b))&&f[1]&&("<"!==b.charAt(0)&&d("$(html) HTML strings must start with '<' character"),c&&c.context&&(c=c.context),a.parseHTML)?q.call(this,a.parseHTML(a.trim(b),c,!0),c,e):q.apply(this,arguments)},a.fn.init.prototype=a.fn,a.parseJSON=function(a){return a||null===a?r.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p,e(a,"browser",p,"jQuery.browser is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){return e&&e instanceof a&&!(e instanceof b)&&(e=b(e)),a.fn.init.call(this,d,e,c)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b};var t=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?t.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var u=/\/(java|ecma)script/i,v=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),v.apply(this,arguments)},a.clean||(a.clean=function(b,e,f,g){e=e||document,e=!e.nodeType&&e[0]||e,e=e.ownerDocument||e,d("jQuery.clean() is deprecated");var h,i,j,k,l=[];if(a.merge(l,a.buildFragment(b,e).childNodes),f)for(j=function(a){return!a.type||u.test(a.type)?g?g.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a):c},h=0;null!=(i=l[h]);h++)a.nodeName(i,"script")&&j(i)||(f.appendChild(i),i.getElementsByTagName!==c&&(k=a.grep(a.merge([],i.getElementsByTagName("script")),j),l.splice.apply(l,[h+1,0].concat(k)),h+=k.length));return l});var w=a.event.add,x=a.event.remove,y=a.event.trigger,z=a.fn.toggle,A=a.fn.live,B=a.fn.die,C="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=RegExp("\\b(?:"+C+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,F=function(b){return"string"!=typeof b||a.event.special.hover?b:(E.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(E,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&D.test(b)&&d("AJAX events should be attached to document: "+b),w.call(this,a,F(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){x.call(this,a,F(b)||"",c,d,e)},a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return d("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return z.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;e.length>g;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),B?B.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return!c&!D.test(a)&&d("Global events are undocumented and deprecated"),y.call(this,a,b,c||document,e)},a.each(C.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}})}(jQuery,window),function(a){a.fn.fastClick=function(b){return a(this).each(function(){a.FastButton(a(this)[0],b)})},a.FastButton=function(b,c){var d,e,f=function(){a(b).unbind("touchend"),a("body").unbind("touchmove.fastClick")},g=function(b){b.stopPropagation(),f(),c.call(this,b),"touchend"===b.type&&a.clickbuster.preventGhostClick(d,e)},h=function(a){(Math.abs(a.originalEvent.touches[0].clientX-d)>10||Math.abs(a.originalEvent.touches[0].clientY-e)>10)&&f()},i=function(c){c.stopPropagation(),a(b).bind("touchend",g),a("body").bind("touchmove.fastClick",h),d=c.originalEvent.touches[0].clientX,e=c.originalEvent.touches[0].clientY};a(b).bind({touchstart:i,click:g})},a.clickbuster={coordinates:[],preventGhostClick:function(b,c){a.clickbuster.coordinates.push(b,c),window.setTimeout(a.clickbuster.pop,2500)},pop:function(){a.clickbuster.coordinates.splice(0,2)},onClick:function(b){var c,d,e;for(e=0;e<a.clickbuster.coordinates.length;e+=2)c=a.clickbuster.coordinates[e],d=a.clickbuster.coordinates[e+1],Math.abs(b.clientX-c)<25&&Math.abs(b.clientY-d)<25&&(b.stopPropagation(),b.preventDefault())}},a(function(){document.addEventListener?document.addEventListener("click",a.clickbuster.onClick,!0):document.attachEvent&&document.attachEvent("onclick",a.clickbuster.onClick)})}(jQuery),function(a,b){"$:nomunge";var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),function(){var a;a=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:a.label,children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a}(),a.select_to_array=function(b){var c,d,e,f,g;for(d=new a,g=b.childNodes,e=0,f=g.length;f>e;e++)c=g[e],d.add_node(c);return d.parsed},this.SelectParser=a}.call(this),function(){var a,b;b=this,a=function(){function a(b,c){this.form_field=b,this.options=null!=c?c:{},a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return a.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},a.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},a.prototype.result_add_option=function(a){var b,c;return a.disabled?"":(a.dom_id=this.container_id+"_o_"+a.array_index,b=a.selected&&this.is_multiple?[]:["active-result"],a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=""!==a.style.cssText?' style="'+a.style+'"':"",'<li id="'+a.dom_id+'" class="'+b.join(" ")+'"'+c+">"+a.html+"</li>")},a.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing?void 0:this.results_show()},a.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.generate_field_id=function(){var a;return a=this.generate_random_id(),this.form_field.id=a,a},a.prototype.generate_random_char=function(){var a,b,c;return a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",c=Math.floor(Math.random()*a.length),b=a.substring(c,c+1)},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},a.browser_is_supported=function(){var a;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(a=document.documentMode)&&a>=8:!0},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),b.AbstractChosen=a}.call(this),function(){var a,b,c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=this,a=jQuery,a.fn.extend({chosen:function(c){return AbstractChosen.browser_is_supported()?this.each(function(){var d;return d=a(this),d.hasClass("chzn-done")?void 0:d.data("chosen",new b(this,c))}):this}}),b=function(b){function e(){return d=e.__super__.constructor.apply(this,arguments)}return f(e,b),e.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},e.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},e.prototype.set_up_html=function(){var b,c;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",b=["chzn-container"],b.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chzn-rtl"),c={id:this.container_id,"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=a("<div />",c),this.container.html(this.is_multiple?'<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>':'<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},e.prototype.register_observers=function(){var a=this;return this.container.mousedown(function(b){a.container_mousedown(b)}),this.container.mouseup(function(b){a.container_mouseup(b)}),this.container.mouseenter(function(b){a.mouse_enter(b)}),this.container.mouseleave(function(b){a.mouse_leave(b)}),this.search_results.mouseup(function(b){a.search_results_mouseup(b)}),this.search_results.mouseover(function(b){a.search_results_mouseover(b)}),this.search_results.mouseout(function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel DOMMouseScroll",function(b){a.search_results_mousewheel(b)}),this.form_field_jq.bind("liszt:updated",function(b){a.results_update_field(b)}),this.form_field_jq.bind("liszt:activate",function(b){a.activate_field(b)}),this.form_field_jq.bind("liszt:open",function(b){a.container_mousedown(b)}),this.search_field.blur(function(b){a.input_blur(b)}),this.search_field.keyup(function(b){a.keyup_checker(b)}),this.search_field.keydown(function(b){a.keydown_checker(b)}),this.search_field.focus(function(b){a.input_focus(b)}),this.is_multiple?this.search_choices.click(function(b){a.choices_click(b)}):this.container.click(function(a){a.preventDefault()})},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},e.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chzn-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).click(this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},e.prototype.search_results_mousewheel=function(a){var b,c,d;return b=-(null!=(c=a.originalEvent)?c.wheelDelta:void 0)||(null!=(d=a.originialEvent)?d.detail:void 0),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},e.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},e.prototype.close_field=function(){return a(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(b){return a(b.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){var a,b,d,e,f;for(this.parsing=!0,this.selected_option_count=null,this.results_data=c.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices_count()>0?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),a="",f=this.results_data,d=0,e=f.length;e>d;d++)b=f[d],b.group?a+=this.result_add_group(b):b.empty||(a+=this.result_add_option(b),b.selected&&this.is_multiple?this.choice_build(b):b.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(b.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(a),this.parsing=!1},e.prototype.result_add_group=function(b){return b.disabled?"":(b.dom_id=this.container_id+"_g_"+b.array_index,'<li id="'+b.dom_id+'" class="group-result">'+a("<div />").text(b.label).html()+"</li>")},e.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},e.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},e.prototype.set_tab_index=function(){var a;return this.form_field_jq.attr("tabindex")?(a=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",a)):void 0},e.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},e.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},e.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},e.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{href:"#","class":"search-choice-close",rel:b.array_index}),d.click(function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},e.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},e.prototype.choice_destroy=function(a){return this.result_deselect(a.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},e.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(a){var b,c,d,e;return this.result_highlight?(b=this.result_highlight,c=b.attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?this.result_deactivate(b):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=b,this.selected_item.removeClass("chzn-default")),b.addClass("result-selected"),e=c.substr(c.lastIndexOf("_")+1),d=this.results_data[e],d.selected=!0,this.form_field.options[d.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(d):(this.selected_item.find("span").first().text(d.text),this.allow_single_deselect&&this.single_deselect_control_build()),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[d.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},e.prototype.result_activate=function(a){return a.addClass("active-result")},e.prototype.result_deactivate=function(a){return a.removeClass("active-result")},e.prototype.result_deselect=function(b){var c,d;return d=this.results_data[b],this.form_field.options[d.options_index].disabled?!1:(d.selected=!1,this.form_field.options[d.options_index].selected=!1,this.selected_option_count=null,c=a("#"+this.container_id+"_o_"+b),c.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[d.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},e.prototype.winnow_results=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(this.no_results_clear(),j=0,k=this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html(),g=this.search_contains?"":"^",f=new RegExp(g+k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),n=new RegExp(k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),s=this.results_data,o=0,q=s.length;q>o;o++)if(c=s[o],!c.disabled&&!c.empty)if(c.group)a("#"+c.dom_id).css("display","none");else if(!this.is_multiple||!c.selected){if(b=!1,i=c.dom_id,h=a("#"+i),f.test(c.html))b=!0,j+=1;else if(this.enable_split_word_search&&(c.html.indexOf(" ")>=0||0===c.html.indexOf("["))&&(e=c.html.replace(/\[|\]/g,"").split(" "),e.length))for(p=0,r=e.length;r>p;p++)d=e[p],f.test(d)&&(b=!0,j+=1);b?(k.length?(l=c.html.search(n),m=c.html.substr(0,l+k.length)+"</em>"+c.html.substr(l+k.length),m=m.substr(0,l)+"<em>"+m.substr(l)):m=c.html,h.html(m),this.result_activate(h),null!=c.group_array_index&&a("#"+this.results_data[c.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&i===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(h))}return 1>j&&k.length?this.no_results(k):this.winnow_results_set_highlight()},e.prototype.winnow_results_clear=function(){var b,c,d,e,f;for(this.search_field.val(""),c=this.search_results.find("li"),f=[],d=0,e=c.length;e>d;d++)b=c[d],b=a(b),f.push(b.hasClass("group-result")?b.css("display","auto"):this.is_multiple&&b.hasClass("result-selected")?void 0:this.result_activate(b));return f},e.prototype.winnow_results_set_highlight=function(){var a,b;return this.result_highlight||(b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null==a)?void 0:this.result_do_highlight(a)},e.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c)},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var b,c;return this.result_highlight?this.results_showing&&(c=this.result_highlight.nextAll("li.active-result").first(),c&&this.result_do_highlight(c)):(b=this.search_results.find("li.active-result").first(),b&&this.result_do_highlight(a(b))),this.results_showing?void 0:this.results_show()},e.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},e.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i;if(this.is_multiple){for(c=0,g=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",f=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0,i=f.length;i>h;h++)d=f[h],e+=d+":"+this.search_field.css(d)+";";
return b=a("<div />",{style:e}),b.text(this.search_field.val()),a("body").append(b),g=b.width()+25,b.remove(),this.f_width||(this.f_width=this.container.outerWidth()),g>this.f_width-10&&(g=this.f_width-10),this.search_field.css({width:g+"px"})}},e.prototype.generate_random_id=function(){var b;for(b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();a("#"+b).length>0;)b+=this.generate_random_char();return b},e}(AbstractChosen),c.Chosen=b}.call(this),function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var d=document.createElement("div"),e=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],f="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";d.className="fit-vids-style",d.id="fit-vids-style",d.style.display="none",d.innerHTML=f,e.parentNode.insertBefore(d,e)}return b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=a(this).find(b.join(","));d=d.not("object object"),d.each(function(){var b=a(this);if(!("embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),d=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),e=c/d;if(!b.attr("id")){var f="fitvid"+Math.floor(999999*Math.random());b.attr("id",f)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c;f.focus()}else d.value="",f.removeClass("placeholder"),d==e()&&d.select()}function d(){var d,e=this,f=a(e),g=this.id;if(""===e.value){if("password"===e.type){if(!f.data("placeholder-textinput")){try{d=f.clone().attr({type:"text"})}catch(h){d=a("<input>").attr(a.extend(b(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",c),f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}f=f.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.valHooks,l=a.propHooks;i&&j?(g=a.fn.placeholder=function(){return this},g.input=g.textarea=!0):(g=a.fn.placeholder=function(){var a=this;return a.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},g.input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass("placeholder")?"":b.value},set:function(b,f){var g=a(b),h=g.data("placeholder-password");return h?h[0].value=f:g.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):g.hasClass("placeholder")?c.call(b,!0,f)||(b.value=f):b.value=f,g):b.value=f}},i||(k.input=f,l.value=f),j||(k.textarea=f,l.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a(".placeholder",this).each(c);setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){a(".placeholder").each(function(){this.value=""})}))}),function(a){a.fn.hoverIntent=function(b,c,d){var e={interval:100,sensitivity:6,timeout:0};e="object"==typeof b?a.extend(e,b):a.isFunction(c)?a.extend(e,{over:b,out:c,selector:d}):a.extend(e,{over:b,out:b,selector:c});var f,g,h,i,j=function(a){f=a.pageX,g=a.pageY},k=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.sqrt((h-f)*(h-f)+(i-g)*(i-g))<e.sensitivity?(a(c).off("mousemove.hoverIntent",j),c.hoverIntent_s=!0,e.over.apply(c,[b])):(h=f,i=g,c.hoverIntent_t=setTimeout(function(){k(b,c)},e.interval),void 0)},l=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=!1,e.out.apply(b,[a])},m=function(b){var c=a.extend({},b),d=this;d.hoverIntent_t&&(d.hoverIntent_t=clearTimeout(d.hoverIntent_t)),"mouseenter"===b.type?(h=c.pageX,i=c.pageY,a(d).on("mousemove.hoverIntent",j),d.hoverIntent_s||(d.hoverIntent_t=setTimeout(function(){k(c,d)},e.interval))):(a(d).off("mousemove.hoverIntent",j),d.hoverIntent_s&&(d.hoverIntent_t=setTimeout(function(){l(c,d)},e.timeout)))};return this.on({"mouseenter.hoverIntent":m,"mouseleave.hoverIntent":m},e.selector)}}(jQuery),function(a){"use strict";a.picturefill=function(){for(var b=a.document.getElementsByTagName("span"),c=0,d=b.length;d>c;c++)if(null!==b[c].getAttribute("data-picture")){for(var e=b[c].getElementsByTagName("span"),f=[],g=0,h=e.length;h>g;g++){var i=e[g].getAttribute("data-media");(!i||a.matchMedia&&a.matchMedia(i).matches)&&f.push(e[g])}var j=b[c].getElementsByTagName("img")[0];if(f.length){var k=f.pop();if(j&&"NOSCRIPT"!==j.parentNode.nodeName){if(k===j.parentNode)continue}else j=a.document.createElement("img"),j.alt=b[c].getAttribute("data-alt");j.src=k.getAttribute("data-src"),k.appendChild(j),j.removeAttribute("width"),j.removeAttribute("height")}else j&&j.parentNode.removeChild(j)}},a.addEventListener?(a.addEventListener("resize",a.picturefill,!1),a.addEventListener("DOMContentLoaded",function(){a.picturefill(),a.removeEventListener("load",a.picturefill,!1)},!1),a.addEventListener("load",a.picturefill,!1)):a.attachEvent&&a.attachEvent("onload",a.picturefill)}(this),window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){var d=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=c(d):"function"==typeof define&&define.amd?define(function(){return b[a]=c(d)}):b[a]=c(d)}("enquire",this,function(a){"use strict";function b(a,b){var c,d=0,e=a.length;for(d;e>d&&(c=b(a[d],d),c!==!1);d++);}function c(a){return"[object Array]"===Object.prototype.toString.apply(a)}function d(a){return"function"==typeof a}function e(a){this.options=a,!a.deferSetup&&this.setup()}function f(b,c){this.query=b,this.isUnconditional=c,this.handlers=[],this.mql=a(b);var d=this;this.listener=function(a){d.mql=a,d.assess()},this.mql.addListener(this.listener)}function g(){if(!a)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!a("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}},f.prototype={addHandler:function(a){var b=new e(a);this.handlers.push(b),this.matches()&&b.on()},removeHandler:function(a){var c=this.handlers;b(c,function(b,d){return b.equals(a)?(b.destroy(),!c.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){b(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";b(this.handlers,function(b){b[a]()})}},g.prototype={register:function(a,e,g){var h=this.queries,i=g&&this.browserIsIncapable;return h[a]||(h[a]=new f(a,i)),d(e)&&(e={match:e}),c(e)||(e=[e]),b(e,function(b){d(b)&&(b={match:b}),h[a].addHandler(b)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new g}),function(a,b,c){function d(b,c){this.el=b,this.$el=a(this.el),this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var e="nivoLightbox",f={effect:"fade",theme:"default",keyboardNav:!0,clickOverlayToClose:!0,onInit:function(){},beforeShowLightbox:function(){},afterShowLightbox:function(){},beforeHideLightbox:function(){},afterHideLightbox:function(){},onPrev:function(){},onNext:function(){},errorMessage:"The requested content cannot be loaded. Please try again later."};d.prototype={init:function(){var b=this;a("html").hasClass("nivo-lightbox-notouch")||a("html").addClass("nivo-lightbox-notouch"),"ontouchstart"in c&&a("html").removeClass("nivo-lightbox-notouch"),this.$el.on("click",function(a){b.showLightbox(a)}),this.options.keyboardNav&&a("body").off("keyup").on("keyup",function(c){var d=c.keyCode?c.keyCode:c.which;27==d&&b.destructLightbox(),37==d&&a(".nivo-lightbox-prev").trigger("click"),39==d&&a(".nivo-lightbox-next").trigger("click")}),this.options.onInit.call(this)},showLightbox:function(b){var c=this,d=this.$el,e=this.checkContent(d);if(e){b.preventDefault(),this.options.beforeShowLightbox.call(this);var f=this.constructLightbox();if(f){var g=f.find(".nivo-lightbox-content");if(g){if(a("body").addClass("nivo-lightbox-body-effect-"+this.options.effect),this.processContent(g,d),this.$el.attr("data-lightbox-gallery")){var h=a('[data-lightbox-gallery="'+this.$el.attr("data-lightbox-gallery")+'"]');a(".nivo-lightbox-nav").show(),a(".nivo-lightbox-prev").off("click").on("click",function(b){b.preventDefault();var e=h.index(d);d=h.eq(e-1),a(d).length||(d=h.last()),c.processContent(g,d),c.options.onPrev.call(this,[d])}),a(".nivo-lightbox-next").off("click").on("click",function(b){b.preventDefault();var e=h.index(d);d=h.eq(e+1),a(d).length||(d=h.first()),c.processContent(g,d),c.options.onNext.call(this,[d])})}setTimeout(function(){f.addClass("nivo-lightbox-open"),c.options.afterShowLightbox.call(this,[f])},1)}}}},checkContent:function(a){var b=a.attr("href"),c=b.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);return null!==b.match(/\.(jpeg|jpg|gif|png)$/i)?!0:c?!0:"ajax"==a.attr("data-lightbox-type")?!0:"#"==b.substring(0,1)&&"inline"==a.attr("data-lightbox-type")?!0:"iframe"==a.attr("data-lightbox-type")?!0:!1},processContent:function(c,d){var e=this,f=d.attr("href"),g=f.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);if(c.html("").addClass("nivo-lightbox-loading"),this.isHidpi()&&d.attr("data-lightbox-hidpi")&&(f=d.attr("data-lightbox-hidpi")),null!==f.match(/\.(jpeg|jpg|gif|png)$/i)){var h=a("<img>",{src:f});h.one("load",function(){var d=a('<div class="nivo-lightbox-image" />');d.append(h),c.html(d).removeClass("nivo-lightbox-loading"),d.css({"line-height":a(".nivo-lightbox-content").height()+"px",height:a(".nivo-lightbox-content").height()+"px"}),a(b).resize(function(){d.css({"line-height":a(".nivo-lightbox-content").height()+"px",height:a(".nivo-lightbox-content").height()+"px"})})}).each(function(){this.complete&&a(this).load()}),h.error(function(){var b=a('<div class="nivo-lightbox-error"><p>'+e.options.errorMessage+"</p></div>");c.html(b).removeClass("nivo-lightbox-loading")})}else if(g){var i="",j="nivo-lightbox-video";if("youtube"==g[1]&&(i="http://www.youtube.com/embed/"+g[4],j="nivo-lightbox-youtube"),"youtu"==g[1]&&(i="http://www.youtube.com/embed/"+g[3],j="nivo-lightbox-youtube"),"vimeo"==g[1]&&(i="http://player.vimeo.com/video/"+g[3],j="nivo-lightbox-vimeo"),i){var k=a("<iframe>",{src:i,"class":j,frameborder:0,vspace:0,hspace:0,scrolling:"auto"});c.html(k),k.load(function(){c.removeClass("nivo-lightbox-loading")})}}else if("ajax"==d.attr("data-lightbox-type"))a.ajax({url:f,cache:!1,success:function(d){var e=a('<div class="nivo-lightbox-ajax" />');e.append(d),c.html(e).removeClass("nivo-lightbox-loading"),e.outerHeight()<c.height()&&e.css({position:"relative",top:"50%","margin-top":-(e.outerHeight()/2)+"px"}),a(b).resize(function(){e.outerHeight()<c.height()&&e.css({position:"relative",top:"50%","margin-top":-(e.outerHeight()/2)+"px"})})},error:function(){var b=a('<div class="nivo-lightbox-error"><p>'+e.options.errorMessage+"</p></div>");c.html(b).removeClass("nivo-lightbox-loading")}});else if("#"==f.substring(0,1)&&"inline"==d.attr("data-lightbox-type"))if(a(f).length){var l=a('<div class="nivo-lightbox-inline" />');l.append(a(f).clone().show()),c.html(l).removeClass("nivo-lightbox-loading"),l.outerHeight()<c.height()&&l.css({position:"relative",top:"50%","margin-top":-(l.outerHeight()/2)+"px"}),a(b).resize(function(){l.outerHeight()<c.height()&&l.css({position:"relative",top:"50%","margin-top":-(l.outerHeight()/2)+"px"})})}else{var m=a('<div class="nivo-lightbox-error"><p>'+e.options.errorMessage+"</p></div>");c.html(m).removeClass("nivo-lightbox-loading")}else{if("iframe"!=d.attr("data-lightbox-type"))return!1;var n=a("<iframe>",{src:f,"class":"nivo-lightbox-item",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});c.html(n),n.load(function(){c.removeClass("nivo-lightbox-loading")})}if(d.attr("title")){var o=a("<span>",{"class":"nivo-lightbox-title"});o.text(d.attr("title")),a(".nivo-lightbox-title-wrap").html(o)}else a(".nivo-lightbox-title-wrap").html("")},constructLightbox:function(){if(a(".nivo-lightbox-overlay").length)return a(".nivo-lightbox-overlay");var b=a("<div>",{"class":"nivo-lightbox-overlay nivo-lightbox-theme-"+this.options.theme+" nivo-lightbox-effect-"+this.options.effect}),c=a("<div>",{"class":"nivo-lightbox-wrap"}),d=a("<div>",{"class":"nivo-lightbox-content"}),e=a('<a href="#" class="nivo-lightbox-nav nivo-lightbox-prev">Previous</a><a href="#" class="nivo-lightbox-nav nivo-lightbox-next">Next</a>'),f=a('<a href="#" class="nivo-lightbox-close" title="Close">Close</a>'),g=a("<div>",{"class":"nivo-lightbox-title-wrap"}),h=0;h&&b.addClass("nivo-lightbox-ie"),c.append(d),c.append(g),b.append(c),b.append(e),b.append(f),a("body").append(b);var i=this;return i.options.clickOverlayToClose&&b.on("click",function(b){(b.target===this||a(b.target).hasClass("nivo-lightbox-content")||a(b.target).hasClass("nivo-lightbox-image"))&&i.destructLightbox()}),f.on("click",function(a){a.preventDefault(),i.destructLightbox()}),b},destructLightbox:function(){var b=this;this.options.beforeHideLightbox.call(this),a(".nivo-lightbox-overlay").removeClass("nivo-lightbox-open"),a(".nivo-lightbox-nav").hide(),a("body").removeClass("nivo-lightbox-body-effect-"+b.options.effect);var c=0;c&&(a(".nivo-lightbox-overlay iframe").attr("src"," "),a(".nivo-lightbox-overlay iframe").remove()),a(".nivo-lightbox-prev").off("click"),a(".nivo-lightbox-next").off("click"),a(".nivo-lightbox-content").empty(),this.options.afterHideLightbox.call(this)},isHidpi:function(){var a="(-webkit-min-device-pixel-ratio: 1.5),                              (min--moz-device-pixel-ratio: 1.5),                              (-o-min-device-pixel-ratio: 3/2),                              (min-resolution: 1.5dppx)";return b.devicePixelRatio>1?!0:b.matchMedia&&b.matchMedia(a).matches?!0:!1}},a.fn[e]=function(b){return this.each(function(){a.data(this,e)||a.data(this,e,new d(this,b))})}}(jQuery,window,document),function(a){function b(b,c){function d(a,b){return'<div style="'+(f._isMove?"":a!==f.currSlideId?f._opacityCSS:"z-index:0;")+'" class="rsSlide '+(b||"")+'"></div>'}var e,f=this,g=navigator.userAgent.toLowerCase();f.uid=a.rsModules.uid++,f.ns=".rs"+f.uid;var h,i=document.createElement("div").style,j=["webkit","Moz","ms","O"],k="",l=0;for(e=0;e<j.length;e++)h=j[e],!k&&h+"Transform"in i&&(k=h),h=h.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-l)),d=window.setTimeout(function(){a(b+c)},c);return l=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),f.isIPAD=g.match(/(ipad)/);var m=function(a){var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},n=m(g),o={};if(n.browser&&(o[n.browser]=!0,o.version=n.version),o.chrome&&(o.webkit=!0),f._browser=o,f.slider=a(b),f.ev=a(f),f._doc=a(document),f.st=a.extend({},a.fn.royalSlider.defaults,c),f._currAnimSpeed=f.st.transitionSpeed,f._minPosOffset=0,f.st.allowCSS3&&(!o.webkit||f.st.allowCSS3OnWebkit)){var p=k+(k?"T":"t");f._useCSS3Transitions=p+"ransform"in i&&p+"ransition"in i,f._useCSS3Transitions&&(f._use3dTransform=k+(k?"P":"p")+"erspective"in i)}k=k.toLowerCase(),f._vendorPref="-"+k+"-",f._slidesHorizontal="vertical"===f.st.slidesOrientation?!1:!0,f._reorderProp=f._slidesHorizontal?"left":"top",f._sizeProp=f._slidesHorizontal?"width":"height",f._prevNavItemId=-1,f._isMove="fade"===f.st.transitionType?!1:!0,f._isMove||(f.st.sliderDrag=!1,f._fadeZIndex=10),f._opacityCSS="z-index:0; display:none; opacity:0;",f._newSlideId=0,f._sPosition=0,f._nextSlidePos=0,a.each(a.rsModules,function(a,b){"uid"!==a&&b.call(f)}),f.slides=[],f._idCount=0;var q=f.st.slides?a(f.st.slides):f.slider.children().detach();q.each(function(){f._parseNode(this,!0)}),f.st.randomizeSlides&&f.slides.sort(function(){return.5-Math.random()}),f.numSlides=f.slides.length,f._refreshNumPreloadImages(),f.st.startSlideId?f.st.startSlideId>f.numSlides-1&&(f.st.startSlideId=f.numSlides-1):f.st.startSlideId=0,f._newSlideId=f.staticSlideId=f.currSlideId=f._realId=f.st.startSlideId,f.currSlide=f.slides[f.currSlideId],f._accelerationPos=0,f.msTouch=!1,f.slider.addClass((f._slidesHorizontal?"rsHor":"rsVer")+(f._isMove?"":" rsFade"));var r='<div class="rsOverflow"><div class="rsContainer">';f.slidesSpacing=f.st.slidesSpacing,f._slideSize=(f._slidesHorizontal?f.slider.width():f.slider.height())+f.st.slidesSpacing,f._preload=Boolean(f._numPreloadImages>0),f.numSlides<=1&&(f._loop=!1);var s=f._loop&&f._isMove?2===f.numSlides?1:2:0;for(f._loopHelpers=s,f._maxImages=f.numSlides<6?f.numSlides:6,f._currBlockIndex=0,f._idOffset=0,f.slidesJQ=[],e=0;e<f.numSlides;e++)f.slidesJQ.push(a(d(e)));f._sliderOverflow=r=a(r+"</div></div>");var t=function(){f.st.sliderDrag&&(f._hasDrag=!0,o.msie||o.opera?f._grabCursor=f._grabbingCursor="move":o.mozilla?(f._grabCursor="-moz-grab",f._grabbingCursor="-moz-grabbing"):o.webkit&&-1!=navigator.platform.indexOf("Mac")&&(f._grabCursor="-webkit-grab",f._grabbingCursor="-webkit-grabbing"),f._setGrabCursor())},u=f.ns,v=function(a,b,c,d,e){f._downEvent=a+b+u,f._moveEvent=a+c+u,f._upEvent=a+d+u,e&&(f._cancelEvent=a+e+u)};f.msEnabled=window.navigator.msPointerEnabled,f.msEnabled?(f.msTouch=Boolean(window.navigator.msMaxTouchPoints>1),f.hasTouch=!1,f._lastItemFriction=.2,v("MSPointer","Down","Move","Up","Cancel")):(v("mouse","down","move","up","up"),"ontouchstart"in window||"createTouch"in document?(f.hasTouch=!0,f._downEvent+=" touchstart"+u,f._moveEvent+=" touchmove"+u,f._upEvent+=" touchend"+u,f._cancelEvent+=" touchcancel"+u,f._lastItemFriction=.5,f.st.sliderTouch&&(f._hasDrag=!0)):(f.hasTouch=!1,f._lastItemFriction=.2)),t(),f.slider.html(r),f._controlsContainer=f.st.controlsInside?f._sliderOverflow:f.slider,f._slidesContainer=f._sliderOverflow.children(".rsContainer"),f.msEnabled&&f._slidesContainer.css("-ms-touch-action",f._slidesHorizontal?"pan-y":"pan-x"),f._preloader=a('<div class="rsPreloader"></div>');var w=f._slidesContainer.children(".rsSlide");if(f._currHolder=f.slidesJQ[f.currSlideId],f._selectedSlideHolder=0,f._useCSS3Transitions)if(f._TP="transition-property",f._TD="transition-duration",f._TTF="transition-timing-function",f._yProp=f._xProp=f._vendorPref+"transform",f._use3dTransform?(o.webkit&&f.slider.addClass("rsWebkit3d"),f._tPref1="translate3d(",f._tPref2="px, ",f._tPref3="px, 0px)"):(f._tPref1="translate(",f._tPref2="px, ",f._tPref3="px)"),f._isMove)f._slidesContainer[f._vendorPref+f._TP]=f._vendorPref+"transform";else{var x={};x[f._vendorPref+f._TP]="opacity",x[f._vendorPref+f._TD]=f.st.transitionSpeed+"ms",x[f._vendorPref+f._TTF]=f.st.css3easeInOut,w.css(x)}else f._xProp="left",f._yProp="top";var y;if(a(window).on("resize"+f.ns,function(){y&&clearTimeout(y),y=setTimeout(function(){f.updateSliderSize()},50)}),f.ev.trigger("rsAfterPropsSetup"),f.updateSliderSize(),f.st.keyboardNavEnabled&&f._bindKeyboardNav(),f.st.arrowsNavHideOnTouch&&(f.hasTouch||f.msTouch)&&(f.st.arrowsNav=!1),f.st.arrowsNav){var z="rsArrow",A=f._controlsContainer;if(a('<div class="'+z+" "+z+'Left"><div class="'+z+'Icn"></div></div><div class="'+z+" "+z+'Right"><div class="'+z+'Icn"></div></div>').appendTo(A),f._arrowLeft=A.children("."+z+"Left").click(function(a){a.preventDefault(),f.prev()}),f._arrowRight=A.children("."+z+"Right").click(function(a){a.preventDefault(),f.next()}),f.st.arrowsNavAutoHide&&!f.hasTouch){f._arrowLeft.addClass("rsHidden"),f._arrowRight.addClass("rsHidden");var B=A;B.one("mousemove.arrowshover",function(){f._arrowLeft.removeClass("rsHidden"),f._arrowRight.removeClass("rsHidden")}),B.hover(function(){f._arrowsAutoHideLocked||(f._arrowLeft.removeClass("rsHidden"),f._arrowRight.removeClass("rsHidden"))},function(){f._arrowsAutoHideLocked||(f._arrowLeft.addClass("rsHidden"),f._arrowRight.addClass("rsHidden"))})}f.ev.on("rsOnUpdateNav",function(){f._updateArrowsNav()}),f._updateArrowsNav()}f._hasDrag?f._slidesContainer.on(f._downEvent,function(a){f._onDragStart(a)}):f.dragSuccess=!1;var C=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];f._slidesContainer.click(function(b){if(!f.dragSuccess){var c=a(b.target),d=c.attr("class");if(-1!==a.inArray(d,C)&&f.toggleVideo())return!1;if(f.st.navigateByClick&&!f._blockActions){if(a(b.target).closest(".rsNoDrag",f._currHolder).length)return!0;f._mouseNext(b)}f.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(){return f.dragSuccess?!1:(f._blockActions=!0,void setTimeout(function(){f._blockActions=!1},3))}),f.ev.trigger("rsAfterInit")}a.rsModules||(a.rsModules={uid:0}),b.prototype={constructor:b,_mouseNext:function(a){var b=this,c=a[b._slidesHorizontal?"pageX":"pageY"]-b._sliderOffset;c>=b._nextSlidePos?b.next():0>c&&b.prev()},_refreshNumPreloadImages:function(){var a,b=this;a=b.st.numImagesToPreload,b._loop=b.st.loop,b._loop&&(2===b.numSlides?(b._loop=!1,b.st.loopRewind=!0):b.numSlides<2&&(b.st.loopRewind=b._loop=!1)),b._loop&&a>0&&(b.numSlides<=4?a=1:b.st.numImagesToPreload>(b.numSlides-1)/2&&(a=Math.floor((b.numSlides-1)/2))),b._numPreloadImages=a},_parseNode:function(b,c){function d(a,b){if(h.images.push(b?a.attr(b):a.text()),i){i=!1,h.caption="src"===b?a.attr("alt"):a.contents(),h.image=h.images[0],h.videoURL=a.attr("data-rsVideo");var c=a.attr("data-rsw"),d=a.attr("data-rsh");"undefined"!=typeof c&&c!==!1&&"undefined"!=typeof d&&d!==!1?(h.iW=parseInt(c),h.iH=parseInt(d)):g.st.imgWidth&&g.st.imgHeight&&(h.iW=g.st.imgWidth,h.iH=g.st.imgHeight)}}var e,f,g=this,h={},i=!0;return b=a(b),g._currContent=b,g.ev.trigger("rsBeforeParseNode",[b,h]),h.stopParsing?void 0:(b=g._currContent,h.id=g._idCount,h.contentAdded=!1,g._idCount++,h.images=[],h.isBig=!1,h.hasCover||(b.hasClass("rsImg")?(f=b,e=!0):(f=b.find(".rsImg"),f.length&&(e=!0)),e?(h.bigImage=f.eq(0).attr("data-rsBigImg"),f.each(function(){var b=a(this);b.is("a")?d(b,"href"):b.is("img")?d(b,"src"):d(b)})):b.is("img")&&(b.addClass("rsImg rsMainSlideImage"),d(b,"src"))),f=b.find(".rsCaption"),f.length&&(h.caption=f.remove()),h.content=b,g.ev.trigger("rsAfterParseNode",[b,h]),c&&g.slides.push(h),0===h.images.length&&(h.isLoaded=!0,h.isRendered=!1,h.isLoading=!1,h.images=null),h)},_bindKeyboardNav:function(){var a,b,c=this,d=function(a){37===a?c.prev():39===a&&c.next()};c._doc.on("keydown"+c.ns,function(e){c._isDragging||(b=e.keyCode,(37===b||39===b)&&(a||(d(b),a=setInterval(function(){d(b)},700))))}).on("keyup"+c.ns,function(){a&&(clearInterval(a),a=null)})},goTo:function(a,b){var c=this;a!==c.currSlideId&&c._moveTo(a,c.st.transitionSpeed,!0,!b)},destroy:function(b){var c=this;c.ev.trigger("rsBeforeDestroy"),c._doc.off("keydown"+c.ns+" keyup"+c.ns+" "+c._moveEvent+" "+c._upEvent),c._slidesContainer.off(c._downEvent+" click"),c.slider.data("royalSlider",null),a.removeData(c.slider,"royalSlider"),a(window).off("resize"+c.ns),b&&c.slider.remove(),c.slides=null,c.slider=null,c.ev=null},_updateBlocksContent:function(b,c){function d(c,d,g){c.isAdded?(e(d,c),f(d,c)):(g||(g=j.slidesJQ[d]),c.holder?g=c.holder:(g=j.slidesJQ[d]=a(g),c.holder=g),c.appendOnLoaded=!1,f(d,c,g),e(d,c),j._addBlockToContainer(c,g,b),c.isAdded=!0,appended=!0)}function e(a,c){c.contentAdded||(j.setItemHtml(c,b),b||(c.contentAdded=!0))}function f(a,b,c){j._isMove&&(c||(c=j.slidesJQ[a]),c.css(j._reorderProp,(a+j._idOffset+m)*j._slideSize))}function g(a){if(k){if(a>l-1)return g(a-l);if(0>a)return g(l+a)}return a}var h,i,j=this,k=j._loop,l=j.numSlides;if(!isNaN(c))return g(c);var m,n,o=j.currSlideId,p=b?Math.abs(j._prevSlideId-j.currSlideId)>=j.numSlides-1?0:1:j._numPreloadImages,q=Math.min(2,p),r=!1,s=!1;for(i=o;o+1+q>i;i++)if(n=g(i),h=j.slides[n],h&&(!h.isAdded||!h.positionSet)){r=!0;break}for(i=o-1;i>o-1-q;i--)if(n=g(i),h=j.slides[n],h&&(!h.isAdded||!h.positionSet)){s=!0;break}if(r)for(i=o;o+p+1>i;i++)n=g(i),m=Math.floor((j._realId-(o-i))/j.numSlides)*j.numSlides,h=j.slides[n],h&&d(h,n);if(s)for(i=o-1;i>o-1-p;i--)n=g(i),m=Math.floor((j._realId-(o-i))/l)*l,h=j.slides[n],h&&d(h,n);if(!b){var t=g(o-p),u=g(o+p),v=t>u?0:t;for(i=0;l>i;i++)t>u&&i>t-1||(v>i||i>u)&&(h=j.slides[i],h&&h.holder&&(h.holder.detach(),h.isAdded=!1))}},setItemHtml:function(b,c){function d(){if(!b.images)return b.isRendered=!0,b.isLoaded=!0,b.isLoading=!1,void h(!0);if(!b.isLoading){var c,d;b.content.hasClass("rsImg")?(c=b.content,d=!0):c=b.content.find(".rsImg:not(img)"),c&&!c.is("img")&&c.each(function(){var c=a(this),e='<img class="rsImg" src="'+(c.is("a")?c.attr("href"):c.text())+'" />';d?b.content=a(e):c.replaceWith(e)}),c=d?b.content:b.content.find("img.rsImg"),j(),c.eq(0).addClass("rsMainSlideImage"),b.iW&&b.iH&&(b.isLoaded||l._resizeImage(b),h()),b.isLoading=!0;if(b.isBig)a("<img />").on("load.rs error.rs",function(){e([this],!0)}).attr("src",b.image);else{b.loaded=[],b.imgLoaders=[];for(var f=0;f<b.images.length;f++){var g=a("<img />");b.imgLoaders.push(this),g.on("load.rs error.rs",function(){b.loaded.push(this),b.loaded.length===b.imgLoaders.length&&e(b.loaded,!1)}).attr("src",b.images[f])}}}}function e(a,c){if(a.length){{var d=a[0];d.src}if(c!==b.isBig){var e=b.holder.children();return void(e&&e.length>1&&k())}if(b.iW&&b.iH)return void f();if(b.iW=d.width,b.iH=d.height,b.iW&&b.iH)return void f();var g=new Image;g.onload=function(){g.width?(b.iW=g.width,b.iH=g.height,f()):setTimeout(function(){g.width&&(b.iW=g.width,b.iH=g.height),f()},1e3)},g.src=d.src}else f()}function f(){b.isLoaded=!0,b.isLoading=!1,h(),k(),i()}function g(){return!l._isMove&&b.images&&b.iW&&b.iH?void d():(b.holder.isWaiting=!0,j(),void(b.holder.slideId=-99))}function h(){if(!b.isAppended){var a=l.st.visibleNearby,d=b.id-l._newSlideId;if(!c&&!b.appendOnLoaded&&l.st.fadeinLoadedSlide&&(0===d||(a||l._isAnimating||l._isDragging)&&(-1===d||1===d))){var e={visibility:"visible",opacity:0};e[l._vendorPref+"transition"]="opacity 400ms ease-in-out",b.content.css(e),setTimeout(function(){b.content.css("opacity",1)},16)}b.holder.find(".rsPreloader").length?b.holder.append(b.content):b.holder.html(b.content),b.isAppended=!0,b.isLoaded&&(l._resizeImage(b),i()),b.sizeReady||(b.sizeReady=!0,setTimeout(function(){l.ev.trigger("rsMaybeSizeReady",b)},100))}}function i(){b.loadedTriggered||(b.isLoaded=b.loadedTriggered=!0,b.holder.trigger("rsAfterContentSet"),l.ev.trigger("rsAfterContentSet",b))}function j(){l.st.usePreloader&&b.holder.html(l._preloader.clone())}function k(){if(l.st.usePreloader){var a=b.holder.find(".rsPreloader");a.length&&a.remove()}}var l=this;return b.isLoaded?void h():void(c?g():d())},_addBlockToContainer:function(a){{var b=this,c=a.holder;a.id-b._newSlideId}b._slidesContainer.append(c),a.appendOnLoaded=!1},_onDragStart:function(b,c){var d,e=this,f="touchstart"===b.type;if(e._isTouchGesture=f,e.ev.trigger("rsDragStart"),a(b.target).closest(".rsNoDrag",e._currHolder).length)return e.dragSuccess=!1,!0;if(c||e._isAnimating&&(e._wasAnimating=!0,e._stopAnimation()),e.dragSuccess=!1,e._isDragging)return void(f&&(e._multipleTouches=!0));if(f&&(e._multipleTouches=!1),e._setGrabbingCursor(),f){var g=b.originalEvent.touches;if(!(g&&g.length>0))return;d=g[0],g.length>1&&(e._multipleTouches=!0)}else b.preventDefault(),d=b,e.msEnabled&&(d=d.originalEvent);e._isDragging=!0,e._doc.on(e._moveEvent,function(a){e._onDragMove(a,c)}).on(e._upEvent,function(a){e._onDragRelease(a,c)}),e._currMoveAxis="",e._hasMoved=!1,e._pageX=d.pageX,e._pageY=d.pageY,e._startPagePos=e._accelerationPos=(c?e._thumbsHorizontal:e._slidesHorizontal)?d.pageX:d.pageY,e._horDir=0,e._verDir=0,e._currRenderPosition=c?e._thumbsPosition:e._sPosition,e._startTime=(new Date).getTime(),f&&e._sliderOverflow.on(e._cancelEvent,function(a){e._onDragRelease(a,c)})},_renderMovement:function(a,b){var c=this;if(c._checkedAxis){var d=c._renderMoveTime,e=a.pageX-c._pageX,f=a.pageY-c._pageY,g=c._currRenderPosition+e,h=c._currRenderPosition+f,i=b?c._thumbsHorizontal:c._slidesHorizontal,j=i?g:h,k=c._currMoveAxis;c._hasMoved=!0,c._pageX=a.pageX,c._pageY=a.pageY,"x"===k&&0!==e?c._horDir=e>0?1:-1:"y"===k&&0!==f&&(c._verDir=f>0?1:-1);var l=i?c._pageX:c._pageY,m=i?e:f;b?j>c._thumbsMinPosition?j=c._currRenderPosition+m*c._lastItemFriction:j<c._thumbsMaxPosition&&(j=c._currRenderPosition+m*c._lastItemFriction):c._loop||(c.currSlideId<=0&&l-c._startPagePos>0&&(j=c._currRenderPosition+m*c._lastItemFriction),c.currSlideId>=c.numSlides-1&&l-c._startPagePos<0&&(j=c._currRenderPosition+m*c._lastItemFriction)),c._currRenderPosition=j,d-c._startTime>200&&(c._startTime=d,c._accelerationPos=l),b?c._setThumbsPosition(c._currRenderPosition):c._isMove&&c._setPosition(c._currRenderPosition)}},_onDragMove:function(a,b){var c,d=this,e="touchmove"===a.type;if(!d._isTouchGesture||e){if(e){if(d._lockAxis)return;var f=a.originalEvent.touches;if(!f)return;if(f.length>1)return;c=f[0]}else c=a,d.msEnabled&&(c=c.originalEvent);if(d._hasMoved||(d._useCSS3Transitions&&(b?d._thumbsContainer:d._slidesContainer).css(d._vendorPref+d._TD,"0s"),function i(){d._isDragging&&(d._animFrame=requestAnimationFrame(i),d._renderMoveEvent&&d._renderMovement(d._renderMoveEvent,b))}()),d._checkedAxis)a.preventDefault(),d._renderMoveTime=(new Date).getTime(),d._renderMoveEvent=c;else{var g=b?d._thumbsHorizontal:d._slidesHorizontal,h=Math.abs(c.pageX-d._pageX)-Math.abs(c.pageY-d._pageY)-(g?-7:7);
if(h>7){if(g)a.preventDefault(),d._currMoveAxis="x";else if(e)return void d._completeGesture();d._checkedAxis=!0}else if(-7>h){if(g){if(e)return void d._completeGesture()}else a.preventDefault(),d._currMoveAxis="y";d._checkedAxis=!0}}}},_completeGesture:function(){var a=this;a._lockAxis=!0,a._hasMoved=a._isDragging=!1,a._onDragRelease()},_onDragRelease:function(b,c){function d(a){return 100>a?100:a>500?500:a}function e(a,b){(l._isMove||c)&&(j=(-l._realId-l._idOffset)*l._slideSize,k=Math.abs(l._sPosition-j),l._currAnimSpeed=k/b,a&&(l._currAnimSpeed+=250),l._currAnimSpeed=d(l._currAnimSpeed),l._animateTo(j,!1))}var f,g,h,i,j,k,l=this,m="touchend"===b.type||"touchcancel"===b.type;if(!l._isTouchGesture||m){if(l._isTouchGesture=!1,l.ev.trigger("rsDragRelease"),l._renderMoveEvent=null,l._isDragging=!1,l._lockAxis=!1,l._checkedAxis=!1,l._renderMoveTime=0,cancelAnimationFrame(l._animFrame),l._hasMoved&&(c?l._setThumbsPosition(l._currRenderPosition):l._isMove&&l._setPosition(l._currRenderPosition)),l._doc.off(l._moveEvent).off(l._upEvent),m&&l._sliderOverflow.off(l._cancelEvent),l._setGrabCursor(),!l._hasMoved&&!l._multipleTouches&&c&&l._thumbsEnabled){var n=a(b.target).closest(".rsNavItem");return void(n.length&&l.goTo(n.index()))}var o=c?l._thumbsHorizontal:l._slidesHorizontal;if(!l._hasMoved||"y"===l._currMoveAxis&&o||"x"===l._currMoveAxis&&!o){if(c||!l._wasAnimating)return l._wasAnimating=!1,void(l.dragSuccess=!1);if(l._wasAnimating=!1,l.st.navigateByClick)return l._mouseNext(l.msEnabled?b.originalEvent:b),void(l.dragSuccess=!0);l.dragSuccess=!0}else l.dragSuccess=!0;l._wasAnimating=!1,l._currMoveAxis="";var p=l.st.minSlideOffset,q=m?b.originalEvent.changedTouches[0]:l.msEnabled?b.originalEvent:b,r=o?q.pageX:q.pageY,s=l._startPagePos,t=l._accelerationPos,u=l.currSlideId,v=l.numSlides,w=o?l._horDir:l._verDir,x=l._loop,y=!1;if(f=Math.abs(r-s),g=r-t,h=(new Date).getTime()-l._startTime,i=Math.abs(g)/h,0===w||1>=v)return void e(!0,i);if(!x&&!c)if(0>=u){if(w>0)return void e(!0,i)}else if(u>=v-1&&0>w)return void e(!0,i);if(c){var z,j=l._thumbsPosition;if(j>l._thumbsMinPosition)j=l._thumbsMinPosition;else if(j<l._thumbsMaxPosition)j=l._thumbsMaxPosition;else{var A=.003,B=i*i/(2*A),C=-l._thumbsPosition,D=l._thumbsContainerSize-l._thumbsViewportSize+l._thumbsPosition;if(g>0&&B>C?(C+=l._thumbsViewportSize/(15/(B/i*A)),i=i*C/B,B=C):0>g&&B>D&&(D+=l._thumbsViewportSize/(15/(B/i*A)),i=i*D/B,B=D),z=Math.max(Math.round(i/A),50),j+=B*(0>g?-1:1),j>l._thumbsMinPosition)return void l._animateThumbsTo(j,z,!0,l._thumbsMinPosition,200);if(j<l._thumbsMaxPosition)return void l._animateThumbsTo(j,z,!0,l._thumbsMaxPosition,200)}l._animateThumbsTo(j,z,!0)}else if(r>s+p){if(0>w)return void e(!1,i);l._moveTo("prev",d(Math.abs(l._sPosition-(-l._realId-l._idOffset+1)*l._slideSize)/i),y,!0,!0)}else if(s-p>r){if(w>0)return void e(!1,i);l._moveTo("next",d(Math.abs(l._sPosition-(-l._realId-l._idOffset-1)*l._slideSize)/i),y,!0,!0)}else e(!1,i)}},_setPosition:function(a){var b=this;a=b._sPosition=a,b._useCSS3Transitions?b._slidesContainer.css(b._xProp,b._tPref1+(b._slidesHorizontal?a+b._tPref2+0:0+b._tPref2+a)+b._tPref3):b._slidesContainer.css(b._slidesHorizontal?b._xProp:b._yProp,a)},updateSliderSize:function(a){var b,c,d=this;if(d.st.autoScaleSlider){var e=d.st.autoScaleSliderWidth,f=d.st.autoScaleSliderHeight;d.st.autoScaleHeight?(b=d.slider.width(),b!=d.width&&(d.slider.css("height",b*(f/e)),b=d.slider.width()),c=d.slider.height()):(c=d.slider.height(),c!=d.height&&(d.slider.css("width",c*(e/f)),c=d.slider.height()),b=d.slider.width())}else b=d.slider.width(),c=d.slider.height();if(a||b!=d.width||c!=d.height){d.width=b,d.height=c,d._wrapWidth=b,d._wrapHeight=c,d.ev.trigger("rsBeforeSizeSet"),d.ev.trigger("rsAfterSizePropSet"),d._sliderOverflow.css({width:d._wrapWidth,height:d._wrapHeight}),d._slideSize=(d._slidesHorizontal?d._wrapWidth:d._wrapHeight)+d.st.slidesSpacing,d._imagePadding=d.st.imageScalePadding;var g,h;for(h=0;h<d.slides.length;h++)g=d.slides[h],g.positionSet=!1,g&&g.images&&g.isLoaded&&(g.isRendered=!1,d._resizeImage(g));if(d._cloneHolders)for(h=0;h<d._cloneHolders.length;h++)g=d._cloneHolders[h],g.holder.css(d._reorderProp,(g.id+d._idOffset)*d._slideSize);d._updateBlocksContent(),d._isMove&&(d._useCSS3Transitions&&d._slidesContainer.css(d._vendorPref+"transition-duration","0s"),d._setPosition((-d._realId-d._idOffset)*d._slideSize)),d.ev.trigger("rsOnUpdateNav")}d._sliderOffset=d._sliderOverflow.offset(),d._sliderOffset=d._sliderOffset[d._reorderProp]},appendSlide:function(a,b){var c=this,d=c._parseNode(a);(isNaN(b)||b>c.numSlides)&&(b=c.numSlides),c.slides.splice(b,0,d),c.slidesJQ.splice(b,0,'<div style="'+(c._isMove?"position:absolute;":c._opacityCSS)+'" class="rsSlide"></div>'),b<c.currSlideId&&c.currSlideId++,c.ev.trigger("rsOnAppendSlide",[d,b]),c._refreshSlides(b),b===c.currSlideId&&c.ev.trigger("rsAfterSlideChange")},removeSlide:function(a){var b=this,c=b.slides[a];c&&(c.holder&&c.holder.remove(),a<b.currSlideId&&b.currSlideId--,b.slides.splice(a,1),b.slidesJQ.splice(a,1),b.ev.trigger("rsOnRemoveSlide",[a]),b._refreshSlides(a),a===b.currSlideId&&b.ev.trigger("rsAfterSlideChange"))},_refreshSlides:function(){var a=this,b=a.numSlides,c=a._realId<=0?0:Math.floor(a._realId/b);a.numSlides=a.slides.length,0===a.numSlides?(a.currSlideId=a._idOffset=a._realId=0,a.currSlide=a._oldHolder=null):a._realId=c*a.numSlides+a.currSlideId;for(var d=0;d<a.numSlides;d++)a.slides[d].id=d;a.currSlide=a.slides[a.currSlideId],a._currHolder=a.slidesJQ[a.currSlideId],a.currSlideId>=a.numSlides?a.goTo(a.numSlides-1):a.currSlideId<0&&a.goTo(0),a._refreshNumPreloadImages(),a._isMove&&a._loop&&a._slidesContainer.css(a._vendorPref+a._TD,"0ms"),a._refreshSlidesTimeout&&clearTimeout(a._refreshSlidesTimeout),a._refreshSlidesTimeout=setTimeout(function(){a._isMove&&a._setPosition((-a._realId-a._idOffset)*a._slideSize),a._updateBlocksContent(),a._isMove||a._currHolder.css({display:"block",opacity:1})},14),a.ev.trigger("rsOnUpdateNav")},_setGrabCursor:function(){var a=this;a._hasDrag&&a._isMove&&(a._grabCursor?a._sliderOverflow.css("cursor",a._grabCursor):(a._sliderOverflow.removeClass("grabbing-cursor"),a._sliderOverflow.addClass("grab-cursor")))},_setGrabbingCursor:function(){var a=this;a._hasDrag&&a._isMove&&(a._grabbingCursor?a._sliderOverflow.css("cursor",a._grabbingCursor):(a._sliderOverflow.removeClass("grab-cursor"),a._sliderOverflow.addClass("grabbing-cursor")))},next:function(a){var b=this;b._moveTo("next",b.st.transitionSpeed,!0,!a)},prev:function(a){var b=this;b._moveTo("prev",b.st.transitionSpeed,!0,!a)},_moveTo:function(a,b,c,d,e){var f,g,h,i=this;if(i.ev.trigger("rsBeforeMove",[a,d]),newItemId="next"===a?i.currSlideId+1:"prev"===a?i.currSlideId-1:a=parseInt(a,10),!i._loop){if(newItemId<0)return void i._doBackAndForthAnim("left",!d);if(newItemId>=i.numSlides)return void i._doBackAndForthAnim("right",!d)}i._isAnimating&&(i._stopAnimation(!0),c=!1),g=newItemId-i.currSlideId,i._prevSlideId=i.currSlideId;var j,k=i.currSlideId,l=i.currSlideId+g,m=i._realId;i._loop?(l=i._updateBlocksContent(!1,l),m+=g):m=l,i._newSlideId=l,i._oldHolder=i.slidesJQ[i.currSlideId],i._realId=m,i.currSlideId=i._newSlideId,i.currSlide=i.slides[i.currSlideId],i._currHolder=i.slidesJQ[i.currSlideId];var n=i.st.slidesDiff,o=Boolean(g>0),p=Math.abs(g),q=Math.floor(k/i._numPreloadImages),r=Math.floor((k+(o?n:-n))/i._numPreloadImages),s=o?Math.max(q,r):Math.min(q,r),t=s*i._numPreloadImages+(o?i._numPreloadImages-1:0);t>i.numSlides-1?t=i.numSlides-1:0>t&&(t=0);var u=o?t-k:k-t;if(u>i._numPreloadImages&&(u=i._numPreloadImages),p>u+n)for(i._idOffset+=(p-(u+n))*(o?-1:1),b=1.4*b,h=0;h<i.numSlides;h++)i.slides[h].positionSet=!1;i._currAnimSpeed=b,i._updateBlocksContent(!0),e||(j=!0),f=(-m-i._idOffset)*i._slideSize,j?setTimeout(function(){i._isWorking=!1,i._animateTo(f,a,!1,c),i.ev.trigger("rsOnUpdateNav")},0):(i._animateTo(f,a,!1,c),i.ev.trigger("rsOnUpdateNav"))},_updateArrowsNav:function(){var a=this,b="rsArrowDisabled";if(a.st.arrowsNav){if(a.numSlides<=1)return a._arrowLeft.css("display","none"),void a._arrowRight.css("display","none");a._arrowLeft.css("display","block"),a._arrowRight.css("display","block"),a._loop||a.st.loopRewind||(0===a.currSlideId?a._arrowLeft.addClass(b):a._arrowLeft.removeClass(b),a.currSlideId===a.numSlides-1?a._arrowRight.addClass(b):a._arrowRight.removeClass(b))}},_animateTo:function(b,c,d,e,f){function g(){var a;h&&(a=h.data("rsTimeout"),a&&(h!==i&&h.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),h.data("rsTimeout",""))),a=i.data("rsTimeout"),a&&(clearTimeout(a),i.data("rsTimeout",""))}var h,i,j=this,k={};if(isNaN(j._currAnimSpeed)&&(j._currAnimSpeed=400),j._sPosition=j._currRenderPosition=b,j.ev.trigger("rsBeforeAnimStart"),j._useCSS3Transitions)if(j._isMove){j._currAnimSpeed=parseInt(j._currAnimSpeed);var l=j._vendorPref+j._TD,m=j._vendorPref+j._TTF;k[l]=j._currAnimSpeed+"ms",k[m]=e?a.rsCSS3Easing[j.st.easeInOut]:a.rsCSS3Easing[j.st.easeOut],j._slidesContainer.css(k),e||!j.hasTouch?setTimeout(function(){j._setPosition(b)},5):j._setPosition(b)}else j._currAnimSpeed=j.st.transitionSpeed,h=j._oldHolder,i=j._currHolder,i.data("rsTimeout")&&i.css("opacity",0),g(),h&&h.data("rsTimeout",setTimeout(function(){k[j._vendorPref+j._TD]="0ms",k.zIndex=0,k.display="none",h.data("rsTimeout",""),h.css(k),setTimeout(function(){h.css("opacity",0)},16)},j._currAnimSpeed+60)),k.display="block",k.zIndex=j._fadeZIndex,k.opacity=0,k[j._vendorPref+j._TD]="0ms",k[j._vendorPref+j._TTF]=a.rsCSS3Easing[j.st.easeInOut],i.css(k),i.data("rsTimeout",setTimeout(function(){i.css(j._vendorPref+j._TD,j._currAnimSpeed+"ms"),i.data("rsTimeout",setTimeout(function(){i.css("opacity",1),i.data("rsTimeout","")},20))},20));else j._isMove?(k[j._slidesHorizontal?j._xProp:j._yProp]=b+"px",j._slidesContainer.animate(k,j._currAnimSpeed,e?j.st.easeInOut:j.st.easeOut)):(h=j._oldHolder,i=j._currHolder,i.stop(!0,!0).css({opacity:0,display:"block",zIndex:j._fadeZIndex}),j._currAnimSpeed=j.st.transitionSpeed,i.animate({opacity:1},j._currAnimSpeed,j.st.easeInOut),g(),h&&h.data("rsTimeout",setTimeout(function(){h.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},j._currAnimSpeed+60)));j._isAnimating=!0,j.loadingTimeout&&clearTimeout(j.loadingTimeout),j.loadingTimeout=f?setTimeout(function(){j.loadingTimeout=null,f.call()},j._currAnimSpeed+60):setTimeout(function(){j.loadingTimeout=null,j._animationComplete(c)},j._currAnimSpeed+60)},_stopAnimation:function(a){var b=this;if(b._isAnimating=!1,clearTimeout(b.loadingTimeout),b._isMove)if(b._useCSS3Transitions){if(!a){var c=b._sPosition,d=b._currRenderPosition=b._getTransformProp();b._slidesContainer.css(b._vendorPref+b._TD,"0ms"),c!==d&&b._setPosition(d)}}else b._slidesContainer.stop(!0),b._sPosition=parseInt(b._slidesContainer.css(b._xProp),10);else b._fadeZIndex>20?b._fadeZIndex=10:b._fadeZIndex++},_getTransformProp:function(){var a=this,b=window.getComputedStyle(a._slidesContainer.get(0),null).getPropertyValue(a._vendorPref+"transform"),c=b.replace(/^matrix\(/i,"").split(/, |\)$/g),d=0===c[0].indexOf("matrix3d");return parseInt(c[a._slidesHorizontal?d?12:4:d?13:5],10)},_getCSS3Prop:function(a,b){var c=this;return c._useCSS3Transitions?c._tPref1+(b?a+c._tPref2+0:0+c._tPref2+a)+c._tPref3:a},_animationComplete:function(){var a=this;a._isMove||(a._currHolder.css("z-index",0),a._fadeZIndex=10),a._isAnimating=!1,a.staticSlideId=a.currSlideId,a._updateBlocksContent(),a._slidesMoved=!1,a.ev.trigger("rsAfterSlideChange")},_doBackAndForthAnim:function(a,b){function c(){e._isAnimating=!1}function d(){e._isAnimating=!1,e._animateTo(f,"",!1,!0,c)}var e=this,f=(-e._realId-e._idOffset)*e._slideSize;if(0!==e.numSlides&&!e._isAnimating)return e.st.loopRewind?void e.goTo("left"===a?e.numSlides-1:0,b):void(e._isMove&&(e._currAnimSpeed=200,e._animateTo(f+("left"===a?30:-30),"",!1,!0,d)))},_resizeImage:function(a){var b=!0;if(!a.isRendered){var c,d,e=a.content,f="rsMainSlideImage",g=this,h=g.st.imageAlignCenter,i=g.st.imageScaleMode;if(a.videoURL&&(f="rsVideoContainer","fill"!==i?c=!0:(d=e,d.hasClass(f)||(d=d.find("."+f)),d.css({width:"100%",height:"100%"}),f="rsMainSlideImage")),e.hasClass(f)||(b=!1,e=e.find("."+f)),e){var j=a.iW,k=a.iH;if(a.isRendered=!0,"none"!==i||h){bMargin="fill"!==i?g._imagePadding:0;var l,m,n,o,p,q=g._wrapWidth-2*bMargin,r=g._wrapHeight-2*bMargin,s={};"fit-if-smaller"===i&&(j>q||k>r)&&(i="fit"),"fill"===i||"fit"===i?(l=q/j,m=r/k,n="fill"==i?l>m?l:m:"fit"==i?m>l?l:m:1,o=Math.ceil(j*n,10),p=Math.ceil(k*n,10)):(o=j,p=k),"none"!==i&&(s.width=o,s.height=p,c&&e.find(".rsImg").css({width:"100%",height:"100%"})),h&&(s.marginLeft=Math.floor((q-o)/2)+bMargin,s.marginTop=Math.floor((r-p)/2)+bMargin),e.css(s)}}}}},a.rsProto=b.prototype,a.fn.royalSlider=function(c){var d=arguments;return this.each(function(){var e=a(this);if("object"!=typeof c&&c){var f=e.data("royalSlider");if(f&&f[c])return f[c].apply(f,Array.prototype.slice.call(d,1))}else e.data("royalSlider")||e.data("royalSlider",new b(e,c))})},a.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},a.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},a.extend(jQuery.easing,{easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}})}(jQuery,window),function(a){a.extend(a.rsProto,{_initAutoHeight:function(){var a=this;if(a.st.autoHeight){var b,c,d,e,f=function(f){d=a.slides[a.currSlideId],b=d.holder,b&&(c=b.height(),c&&c!==e&&(a._wrapHeight=c,a._useCSS3Transitions||!f?a._sliderOverflow.css("height",c):a._sliderOverflow.stop(!0,!0).animate({height:c},a.st.transitionSpeed)))};a.ev.on("rsMaybeSizeReady.rsAutoHeight",function(a,b){d===b&&f()}),a.ev.on("rsAfterContentSet.rsAutoHeight",function(a,b){d===b&&f()}),a.slider.addClass("rsAutoHeight"),a.ev.one("rsAfterInit",function(){setTimeout(function(){f(!1),setTimeout(function(){a.slider.append('<div style="clear:both; float: none;"></div>'),a._useCSS3Transitions&&a._sliderOverflow.css(a._vendorPref+"transition","height "+a.st.transitionSpeed+"ms ease-in-out")},16)},16)}),a.ev.on("rsBeforeAnimStart",function(){f(!0)}),a.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){f(!1)},16)})}}}),a.rsModules.autoHeight=a.rsProto._initAutoHeight}(jQuery),function(a){a.extend(a.rsProto,{_initAutoplay:function(){var b,c=this;c._autoPlayDefaults={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!c.st.autoPlay&&c.st.autoplay&&(c.st.autoPlay=c.st.autoplay),c.st.autoPlay=a.extend({},c._autoPlayDefaults,c.st.autoPlay),c.st.autoPlay.enabled&&(c.ev.on("rsBeforeParseNode",function(c,d,e){d=a(d),b=d.attr("data-rsDelay"),b&&(e.customDelay=parseInt(b,10))}),c.ev.one("rsAfterInit",function(){c._setupAutoPlay()}),c.ev.on("rsBeforeDestroy",function(){c.stopAutoPlay(),a(window).off("blur"+c.ns+" focus"+c.ns)}))},_setupAutoPlay:function(){var b=this;b.startAutoPlay(),b.ev.on("rsAfterContentSet",function(a,c){b._isDragging||b._isAnimating||!b._autoPlayEnabled||c!==b.currSlide||b._play()}),b.ev.on("rsDragRelease",function(){b._autoPlayEnabled&&b._autoPlayPaused&&(b._autoPlayPaused=!1,b._play())}),b.ev.on("rsAfterSlideChange",function(){b._autoPlayEnabled&&b._autoPlayPaused&&(b._autoPlayPaused=!1,b.currSlide.isLoaded&&b._play())}),b.ev.on("rsDragStart",function(){b._autoPlayEnabled&&(b.st.autoPlay.stopAtAction?b.stopAutoPlay():(b._autoPlayPaused=!0,b._pause()))}),b.ev.on("rsBeforeMove",function(a,c,d){b._autoPlayEnabled&&(d&&b.st.autoPlay.stopAtAction?b.stopAutoPlay():(b._autoPlayPaused=!0,b._pause()))}),b._pausedByVideo=!1,b.ev.on("rsVideoStop",function(){b._autoPlayEnabled&&(b._pausedByVideo=!1,b._play())}),b.ev.on("rsVideoPlay",function(){b._autoPlayEnabled&&(b._autoPlayPaused=!1,b._pause(),b._pausedByVideo=!0)}),a(window).on("blur"+b.ns,function(){b._autoPlayEnabled&&(b._autoPlayPaused=!0,b._pause())}).on("focus"+b.ns,function(){b._autoPlayEnabled&&b._autoPlayPaused&&(b._autoPlayPaused=!1,b._play())}),b.st.autoPlay.pauseOnHover&&(b._pausedByHover=!1,b.slider.hover(function(){b._autoPlayEnabled&&(b._autoPlayPaused=!1,b._pause(),b._pausedByHover=!0)},function(){b._autoPlayEnabled&&(b._pausedByHover=!1,b._play())}))},toggleAutoPlay:function(){var a=this;a._autoPlayEnabled?a.stopAutoPlay():a.startAutoPlay()},startAutoPlay:function(){var a=this;a._autoPlayEnabled=!0,a.currSlide.isLoaded&&a._play()},stopAutoPlay:function(){var a=this;a._pausedByVideo=a._pausedByHover=a._autoPlayPaused=a._autoPlayEnabled=!1,a._pause()},_play:function(){var a=this;a._pausedByHover||a._pausedByVideo||(a._autoPlayRunning=!0,a._autoPlayTimeout&&clearTimeout(a._autoPlayTimeout),a._autoPlayTimeout=setTimeout(function(){var b;a._loop||a.st.loopRewind||(b=!0,a.st.loopRewind=!0),a.next(!0),b&&(b=!1,a.st.loopRewind=!1)},a.currSlide.customDelay?a.currSlide.customDelay:a.st.autoPlay.delay))},_pause:function(){var a=this;a._pausedByHover||a._pausedByVideo||(a._autoPlayRunning=!1,a._autoPlayTimeout&&(clearTimeout(a._autoPlayTimeout),a._autoPlayTimeout=null))}}),a.rsModules.autoplay=a.rsProto._initAutoplay}(jQuery),jQuery(function(a){"use strict";a("html").not(".lt-ie9").coenvmenu()}),function(a,b,c,d){"use strict";a.CoEnvMenu=function(b,c){this.options=b,this.element=a(c),this._create(b)},a.CoEnvMenu.settings={outerSelector:"#outer",wrapperSelector:"#wrapper",menuSelector:".main-menu",submenuClass:"children",topMenuSelector:".top-menu",menuButtonSelector:"#show-menu button",topLevelItemSelector:".page-depth-0",mobileMenuClass:"mobile-menu",normalMenuClass:"normal-menu",normalTopMenuClass:"normal-top-menu",mobileTopMenuClass:"mobile-top-menu",mobileMenuActiveClass:"mobile-menu-active",mobileTopMenuActiveClass:"mobile-top-menu-active",menuItemActiveClass:"menu-item-active"},a.CoEnvMenu.prototype._create=function(b){this.options=a.extend(!0,{},a.CoEnvMenu.settings,b),this._init()},a.CoEnvMenu.prototype._init=function(){this.$outer=a(this.options.outerSelector),this.$wrapper=a(this.options.wrapperSelector),this.$menu=a(this.options.menuSelector),this.$topMenu=a(this.options.topMenuSelector),this.$menuButton=a(this.options.menuButtonSelector),this._buildMenu(),this._dropdowns(),this._setupMobileMenu(),this._addArrowIcons(),this._setupTopMenu(),this._handleMenuButton(),this._handleWrapperClicking(),this._handleMenuInteractions(),this._handleWindowResize()},a.CoEnvMenu.prototype._buildMenu=function(){var b=this,c=this.$menu.find(this.options.topLevelItemSelector),e=(c.find("> ."+this.options.submenuClass),a('<div class="submenu-container"></div>'));c.each(function(){var c,e,f=a(this).find("> span > a"),g=f.attr("title");c=g!==d&&g!==!1?g:f.text(),e=f.attr("href"),a(this).find("> ."+b.options.submenuClass).length||a(this).append('<ul class="'+b.options.submenuClass+'"></ul>'),a(this).find("> ."+b.options.submenuClass).prepend('<li class="pagenav"><a href="'+e+'">'+c+"</a></li>")}),this.$menu.find(this.options.topLevelItemSelector+" > ."+this.options.submenuClass).wrap(e)},a.CoEnvMenu.prototype._dropdowns=function(){var b=this;this.$menu.find(this.options.topLevelItemSelector).has("."+this.options.submenuClass).hoverIntent(function(){a(this).toggleClass(b.options.menuItemActiveClass)})},a.CoEnvMenu.prototype._setupMobileMenu=function(){this.$mobileMenu=this.$menu.clone(),this.$mobileMenu.removeClass(this.options.normalMenuClass).addClass(this.options.mobileMenuClass),this.$mobileMenu.appendTo(this.$outer).show()},a.CoEnvMenu.prototype._addArrowIcons=function(){this.$mobileMenu.find(this.options.topLevelItemSelector).has("."+this.options.submenuClass).each(function(){a(this).find("a").first().prepend("<i></i>")})},a.CoEnvMenu.prototype._setupTopMenu=function(){this.$mobileTopMenu=this.$topMenu.clone(),this.$mobileTopMenu.removeClass(this.options.normalTopMenuClass).addClass(this.options.mobileTopMenuClass),this.$mobileTopMenu.appendTo(this.$mobileMenu).show()},a.CoEnvMenu.prototype._handleMenuButton=function(){var a=this;this.$menuButton.fastClick(function(b){b.preventDefault(),a._toggleMobileMenu()})},a.CoEnvMenu.prototype._toggleMobileMenu=function(){a("html").toggleClass(this.options.mobileMenuActiveClass)},a.CoEnvMenu.prototype._handleWindowResize=function(){var c=this;a(b).on("resize",a.debounce(100,function(){a(b).width()>=768&&a("html").hasClass(c.options.mobileMenuActiveClass)&&c._toggleMobileMenu()}))},a.CoEnvMenu.prototype._handleWrapperClicking=function(){var b=this;this.$wrapper.on("click",function(c){a("html").hasClass(b.options.mobileMenuActiveClass)&&(c.preventDefault(),b._toggleMobileMenu())})},a.CoEnvMenu.prototype._handleMenuInteractions=function(){var b=this,c=this.$mobileMenu.find(this.options.topLevelItemSelector),d=c.find("> span > a");c.filter(".menu-item-active, .current_page_item, .current-page-ancestor").each(function(){a(this).addClass("expanded")}),d.fastClick(function(c){c.preventDefault();var d=a(this).parents(b.options.topLevelItemSelector),e=(a(this).find("i"),d.find("."+b.options.submenuClass));d.hasClass("expanded")?(e.slideUp(200),d.removeClass("expanded")):(e.slideDown(200),d.addClass("expanded"))})},a.CoEnvMenu.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))},a.fn.coenvmenu=function(b){if("string"==typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a.data(this,"coenvmenu");return d?a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,c):void console.log("error",'no such method "'+b+'" for coenvmenu instance'):void console.log("error",'cannot call methods on coenvmenu prior to initialization; attempted to call method "'+b+'"')})}else this.each(function(){var c=a.data(this,"coenvmenu");c?(c.option(b||{}),c._init()):a.data(this,"coenvmenu",new a.CoEnvMenu(b,this))});return this}}(jQuery,window,document),jQuery(function(a){"use strict";a("body").hasClass("lt-ie8")||a(".home #features").homeFeatures()}),$.fn.homeFeatures=function(){"use strict";var a,b,c,d=$(this),e=d.find(".features-container"),f=d.find(".feature"),g=$("<div></div>");if(e.length){a=e.offset().top,e.royalSlider({loop:!0,fadeInLoadedSlide:!1,autoHeight:!0,navigateByClick:!1,autoPlay:{enabled:!0,pauseOnHover:!0,stopAtAction:!1,delay:8e3}}),b=e.data("royalSlider"),f.removeClass("loading"),$(window).on("scroll",$.debounce(200,function(){var a=$(window).scrollTop(),c=e.offset().top,d=e.outerHeight(!0);a>c+d/2?b.stopAutoPlay():b.startAutoPlay()})),c="<ul>",g.addClass("features-nav");for(var h=0,i=b.numSlides;i>h;h++)c+='<li><a href="#"><span>'+(h+1)+"</span></a></li>";c+="</ul>",g.append($(c)),g.appendTo(d),g.find("a").eq(b.currSlideId).addClass("active"),g.find("a").on("click",function(a){a.preventDefault(),e.royalSlider("goTo",$(this).parent().index()),g.find("a").removeClass("active"),$(this).addClass("active")}),b.ev.on("rsAfterSlideChange",function(){g.find("a").removeClass("active"),g.find("a").eq(b.currSlideId).addClass("active")})}},jQuery(function(a){"use strict";a("#blog-header").blogHeader(),a("#careers-filter").blogHeader()}),$.fn.blogHeader=function(){"use strict";var a=$(this),b=a.find(".select-category select"),c=a.find(".select-month select");b.on("change",function(){var a=$(this).val(),b=$(this).parent("div").attr("data-url");window.location.href=b+a}),c.on("change",function(){var a=$(this).val();window.location.href=a})},function(a){"use strict";a.coenvshare=function(b,c){this.options=b,this.element=a(c),this._create(b)},a.coenvshare.settings={},a.coenvshare.prototype._create=function(b){this.options=a.extend(!0,{},a.coenvshare.settings,b),this._init()},a.coenvshare.prototype._init=function(){this.articleID=this.element.attr("data-article-id"),this.articleTitle=this.element.attr("data-article-title"),this.articleShortLink=this.element.attr("data-article-shortlink"),this.articlePermalink=this.element.attr("data-article-permalink"),"undefined"!=typeof this.articleID&&"undefined"!=typeof this.articleTitle&&"undefined"!=typeof this.articleShortLink&&"undefined"!=typeof this.articlePermalink&&(this.element.addClass("active"),this._buildModal(),this._interactions())},a.coenvshare.prototype._buildModal=function(){var b=[{name:"Twitter",className:"twitter",url:"http://twitter.com/home?status="+this.articleTitle+" "+this.articleShortLink+' from @UW_CoEnv" target="_blank'},{name:"Facebook",className:"facebook",url:"http://www.facebook.com/sharer/sharer.php?s=100&p[url]="+this.articleShortLink+'" target="_blank'},{name:"Email",className:"email",url:"mailto:?subject="+this.articleTitle+"&body=Check%20out%20this%20article%20from%20the%20UW%20College%20of%20the%20Environment:%20"+this.articleShortLink}];this.$modal=a('<div class="share-modal" role="dialog" aria-labelledby="shareModal" aria-hidden="true"></div>'),this.$modal.append('<div class="share-modal-inner"><ul class="share-modal-content"></ul></div>');for(var c=0,d=b.length;d>c;c++)this.$modal.find(".share-modal-content").append('<a href="'+b[c].url+'" ><li class="social-link share-'+b[c].className+'"></li></a>')},a.coenvshare.prototype._interactions=function(){var b=this;this.element.on("click",function(a){a.preventDefault(),a.stopPropagation(),b.modalIsActive!==!0?b._launchModal():b._hideModal()}),a("body").on("click",function(c){b.modalIsActive===!0&&(a(c.target).is(".social-link")||b._hideModal())})},a.coenvshare.prototype._launchModal=function(){var b=this;a(".post-"+this.articleID).prepend(this.$modal),this.$modal.addClass("active"),this.modalIsActive=!0,setTimeout(function(){b.$modal.addClass("active-visible")},10)},a.coenvshare.prototype._hideModal=function(){var a=this;this.$modal.removeClass("active-visible"),a.$modal.removeClass("active"),a.$modal.remove(),a.modalIsActive=!1},a.coenvshare.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))},a.fn.coenvshare=function(b){if("string"==typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a.data(this,"coenvshare");return d?a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,c):void console.log("error",'no such method "'+b+'" for coenvshare instance'):void console.log("error",'cannot call methods on coenvshare prior to initialization; attempted to call method "'+b+'"')})}else this.each(function(){var c=a.data(this,"coenvshare");c?(c.option(b||{}),c._init()):a.data(this,"coenvshare",new a.coenvshare(b,this))});return this}}(jQuery,window,document),jQuery(function(a){"use strict";a("body").hasClass("lt-ie8")||(a("select.chosen").chosen(),a("input, textarea").placeholder(),a(".article-content").handleFitVids(),a(".Faculty-member-tab-nav").memberTabs(),a(".banner-wrapper").bannerReveals(),a(".share").coenvshare(),a("a").nivoLightbox(),a("body").hasClass("post-type-archive-faculty")&&(a(".js .faculty-toolbox-roller-items").mCustomScrollbar({autoHideScrollbar:!1,setHeight:175,theme:"minimal-dark",scrollInteria:1}),a(".js .faculty-toolbox-roller-items").mCustomScrollbar("scrollTo",".Faculty-toolbox-roller-item--active")))}),$.fn.bannerReveals=function(){"use strict";return this.each(function(){var a=$(this),b=$(".banner-info"),c="banner-revealed";b.on("click",function(a){a.preventDefault(),a.stopPropagation(),$("body").toggleClass(c)}),a.on("click",function(){$("body").hasClass(c)&&$("body").removeClass(c)})})},$.fn.handleFitVids=function(){"use strict";$(this).fitVids(),$(".fluid-width-video-wrapper").each(function(){var a=$(this),b=parseFloat(a.css("max-width")),c=parseFloat(a[0].style["padding-top"]),d=.01*b*c+"%";a.css("padding-top",d)})},$.fn.memberTabs=function(){"use strict";var a=$(this),b=$(".Faculty-member-tabs"),c="active-tab";a.find("a").click(function(d){d.preventDefault();var e=($(this),b.find("."+$(this).attr("data-tab")));a.find("."+c).removeClass(c),$(this).parent("li").addClass(c),b.find("."+c).removeClass(c),e.addClass(c)})};