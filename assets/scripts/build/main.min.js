void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,i){"use strict";function n(i){s[i]||(s[i]=!0,e.migrateWarnings.push(i),t.console&&console.warn&&!e.migrateMute&&(console.warn("JQMIGRATE: "+i),e.migrateTrace&&console.trace&&console.trace()))}function o(t,o,s,r){if(Object.defineProperty)try{return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){return n(r),s},set:function(e){n(r),s=e}}),i}catch(a){}e._definePropertyBroken=!0,t[o]=s}var s={};e.migrateWarnings=[],!e.migrateMute&&t.console&&console.log&&console.log("JQMIGRATE: Logging is active"),e.migrateTrace===i&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var r={},a=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},d=e.attrHooks.value&&e.attrHooks.value.set||function(){return i},u=/^(?:input|button)$/i,h=/^[238]$/,c=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;o(e,"attrFn",r,"jQuery.attrFn is deprecated"),e.attr=function(t,o,s,r){var l=o.toLowerCase(),d=t&&t.nodeType;return r&&4>a.length&&(n("jQuery.fn.attr( props, pass ) is deprecated"),t&&!h.test(d)&&e.isFunction(e.fn[o]))?e(t)[o](s):("type"===o&&s!==i&&u.test(t.nodeName)&&t.parentNode&&n("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&c.test(l)&&(e.attrHooks[l]={get:function(t,n){var o,s=e.prop(t,n);return s===!0||"boolean"!=typeof s&&(o=t.getAttributeNode(n))&&o.nodeValue!==!1?n.toLowerCase():i},set:function(t,i,n){var o;return i===!1?e.removeAttr(t,n):(o=e.propFix[n]||n,o in t&&(t[o]=!0),t.setAttribute(n,n.toLowerCase())),n}},f.test(l)&&n("jQuery.fn.attr('"+l+"') may use property instead of attribute")),a.call(e,t,o,s))},e.attrHooks.value={get:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&n("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var o=(e.nodeName||"").toLowerCase();return"button"===o?d.apply(this,arguments):("input"!==o&&"option"!==o&&n("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,i)}};var p,m,_=e.fn.init,v=e.parseJSON,g=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,i,o){var s;return t&&"string"==typeof t&&!e.isPlainObject(i)&&(s=g.exec(t))&&s[1]&&("<"!==t.charAt(0)&&n("$(html) HTML strings must start with '<' character"),i&&i.context&&(i=i.context),e.parseHTML)?_.call(this,e.parseHTML(e.trim(t),i,!0),i,o):_.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(n("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},p=e.uaMatch(navigator.userAgent),m={},p.browser&&(m[p.browser]=!0,m.version=p.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m,o(e,"browser",m,"jQuery.browser is deprecated"),e.sub=function(){function t(e,i){return new t.fn.init(e,i)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,o){return o&&o instanceof e&&!(o instanceof t)&&(o=t(o)),e.fn.init.call(this,n,o,i)},t.fn.init.prototype=t.fn;var i=t(document);return n("jQuery.sub() is deprecated"),t};var y=e.fn.data;e.fn.data=function(t){var o,s,r=this[0];return!r||"events"!==t||1!==arguments.length||(o=e.data(r,t),s=e._data(r,t),o!==i&&o!==s||s===i)?y.apply(this,arguments):(n("Use of jQuery.fn.data('events') is deprecated"),s)};var b=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,o,s,r){o=o||document,o=!o.nodeType&&o[0]||o,o=o.ownerDocument||o,n("jQuery.clean() is deprecated");var a,l,d,u,h=[];if(e.merge(h,e.buildFragment(t,o).childNodes),s)for(d=function(e){return!e.type||b.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):s.appendChild(e):i},a=0;null!=(l=h[a]);a++)e.nodeName(l,"script")&&d(l)||(s.appendChild(l),l.getElementsByTagName!==i&&(u=e.grep(e.merge([],l.getElementsByTagName("script")),d),h.splice.apply(h,[a+1,0].concat(u)),a+=u.length));return h});var x=e.event.add,S=e.event.remove,C=e.event.trigger,I=e.fn.toggle,T=e.fn.live,P=e.fn.die,E="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",M=RegExp("\\b(?:"+E+")\\b"),k=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(k.test(t)&&n("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(k,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,i,o,s){e!==document&&M.test(t)&&n("AJAX events should be attached to document: "+t),x.call(this,e,A(t||""),i,o,s)},e.event.remove=function(e,t,i,n,o){S.call(this,e,A(t)||"",i,n,o)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return n("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,i){if(!e.isFunction(t)||!e.isFunction(i))return I.apply(this,arguments);n("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,s=t.guid||e.guid++,r=0,a=function(i){var n=(e._data(this,"lastToggle"+t.guid)||0)%r;return e._data(this,"lastToggle"+t.guid,n+1),i.preventDefault(),o[n].apply(this,arguments)||!1};for(a.guid=s;o.length>r;)o[r++].guid=s;return this.click(a)},e.fn.live=function(t,i,o){return n("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,i,o),this)},e.fn.die=function(t,i){return n("jQuery.fn.die() is deprecated"),P?P.apply(this,arguments):(e(this.context).off(t,this.selector||"**",i),this)},e.event.trigger=function(e,t,i,o){return!i&!M.test(e)&&n("Global events are undocumented and deprecated"),C.call(this,e,t,i||document,o)},e.each(E.split("|"),function(t,i){e.event.special[i]={setup:function(){var t=this;return t!==document&&(e.event.add(document,i+"."+e.guid,function(){e.event.trigger(i,null,t,!0)}),e._data(this,i,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,i+"."+e._data(this,i)),!1}}})}(jQuery,window),function(e){e.fn.fastClick=function(t){return e(this).each(function(){e.FastButton(e(this)[0],t)})},e.FastButton=function(t,i){var n,o,s=function(){e(t).unbind("touchend"),e("body").unbind("touchmove.fastClick")},r=function(t){t.stopPropagation(),s(),i.call(this,t),"touchend"===t.type&&e.clickbuster.preventGhostClick(n,o)},a=function(e){(Math.abs(e.originalEvent.touches[0].clientX-n)>10||Math.abs(e.originalEvent.touches[0].clientY-o)>10)&&s()},l=function(i){i.stopPropagation(),e(t).bind("touchend",r),e("body").bind("touchmove.fastClick",a),n=i.originalEvent.touches[0].clientX,o=i.originalEvent.touches[0].clientY};e(t).bind({touchstart:l,click:r})},e.clickbuster={coordinates:[],preventGhostClick:function(t,i){e.clickbuster.coordinates.push(t,i),window.setTimeout(e.clickbuster.pop,2500)},pop:function(){e.clickbuster.coordinates.splice(0,2)},onClick:function(t){var i,n,o;for(o=0;o<e.clickbuster.coordinates.length;o+=2)i=e.clickbuster.coordinates[o],n=e.clickbuster.coordinates[o+1],Math.abs(t.clientX-i)<25&&Math.abs(t.clientY-n)<25&&(t.stopPropagation(),t.preventDefault())}},e(function(){document.addEventListener?document.addEventListener("click",e.clickbuster.onClick,!0):document.attachEvent&&document.attachEvent("onclick",e.clickbuster.onClick)})}(jQuery),function(e,t){"$:nomunge";var i,n=e.jQuery||e.Cowboy||(e.Cowboy={});n.throttle=i=function(e,i,o,s){function r(){function n(){l=+new Date,o.apply(d,h)}function r(){a=t}var d=this,u=+new Date-l,h=arguments;s&&!a&&n(),a&&clearTimeout(a),s===t&&u>e?n():i!==!0&&(a=setTimeout(s?r:n,s===t?e-u:e))}var a,l=0;return"boolean"!=typeof i&&(s=o,o=i,i=t),n.guid&&(r.guid=o.guid=o.guid||n.guid++),r},n.debounce=function(e,n,o){return o===t?i(e,n,!1):i(e,o,n!==!1)}}(this),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,o,s,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),s=e.childNodes,r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var i,n,o,s,r;for(n=new e,r=t.childNodes,o=0,s=r.length;s>o;o++)i=r[o],n.add_node(i);return n.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},e.prototype.result_add_option=function(e){var t,i;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.choices_count=function(){var e,t,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,t=0,i=n.length;i>t;t++)e=n[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.browser_is_supported=function(){var e;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(e=document.documentMode)&&e>=8:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t.AbstractChosen=e}.call(this),function(){var e,t,i,n,o={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i=this,e=jQuery,e.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(n){var o;return o=e(this),o.hasClass("chzn-done")?void 0:o.data("chosen",new t(this,i))}):this}}),t=function(t){function o(){return n=o.__super__.constructor.apply(this,arguments)}return s(o,t),o.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},o.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},o.prototype.set_up_html=function(){var t,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),i={id:this.container_id,"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},o.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){e.container_mousedown(t)}),this.container.mouseup(function(t){e.container_mouseup(t)}),this.container.mouseenter(function(t){e.mouse_enter(t)}),this.container.mouseleave(function(t){e.mouse_leave(t)}),this.search_results.mouseup(function(t){e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel DOMMouseScroll",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("liszt:updated",function(t){e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){e.container_mousedown(t)}),this.search_field.blur(function(t){e.input_blur(t)}),this.search_field.keyup(function(t){e.keyup_checker(t)}),this.search_field.keydown(function(t){e.keydown_checker(t)}),this.search_field.focus(function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){e.choices_click(t)}):this.container.click(function(e){e.preventDefault()})},o.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},o.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},o.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},o.prototype.search_results_mousewheel=function(e){var t,i,n;return t=-(null!=(i=e.originalEvent)?i.wheelDelta:void 0)||(null!=(n=e.originialEvent)?n.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},o.prototype.blur_test=function(e){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},o.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},o.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},o.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},o.prototype.results_build=function(){var e,t,n,o,s;for(this.parsing=!0,this.selected_option_count=null,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices_count()>0?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",s=this.results_data,n=0,o=s.length;o>n;n++)t=s[n],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},o.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},o.prototype.result_do_highlight=function(e){var t,i,n,o,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),o=n+s,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=o)return this.search_results.scrollTop(t-n>0?t-n:0);if(s>i)return this.search_results.scrollTop(i)}},o.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},o.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},o.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},o.prototype.set_tab_index=function(e){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)):void 0},o.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},o.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},o.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},o.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},o.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},o.prototype.choice_build=function(t){var i,n,o=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(n=e("<a />",{href:"#","class":"search-choice-close",rel:t.array_index}),n.click(function(e){return o.choice_destroy_link_click(e)}),i.append(n)),this.search_container.before(i)},o.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},o.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},o.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},o.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},o.prototype.result_select=function(e){var t,i,n,o;return this.result_highlight?(t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),o=i.substr(i.lastIndexOf("_")+1),n=this.results_data[o],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},o.prototype.result_activate=function(e){return e.addClass("active-result")},o.prototype.result_deactivate=function(e){return e.removeClass("active-result")},o.prototype.result_deselect=function(t){var i,n;return n=this.results_data[t],this.form_field.options[n.options_index].disabled?!1:(n.selected=!1,this.form_field.options[n.options_index].selected=!1,this.selected_option_count=null,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},o.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},o.prototype.winnow_results=function(){var t,i,n,o,s,r,a,l,d,u,h,c,f,p,m,_,v,g;for(this.no_results_clear(),d=0,u=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),r=this.search_contains?"":"^",s=new RegExp(r+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),f=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),g=this.results_data,p=0,_=g.length;_>p;p++)if(i=g[p],!i.disabled&&!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(t=!1,l=i.dom_id,a=e("#"+l),s.test(i.html))t=!0,d+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(o=i.html.replace(/\[|\]/g,"").split(" "),o.length))for(m=0,v=o.length;v>m;m++)n=o[m],s.test(n)&&(t=!0,d+=1);t?(u.length?(h=i.html.search(f),c=i.html.substr(0,h+u.length)+"</em>"+i.html.substr(h+u.length),c=c.substr(0,h)+"<em>"+c.substr(h)):c=i.html,a.html(c),this.result_activate(a),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>d&&u.length?this.no_results(u):this.winnow_results_set_highlight()},o.prototype.winnow_results_clear=function(){var t,i,n,o,s;for(this.search_field.val(""),i=this.search_results.find("li"),s=[],n=0,o=i.length;o>n;n++)t=i[n],t=e(t),t.hasClass("group-result")?s.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?s.push(void 0):s.push(this.result_activate(t));return s},o.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},o.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},o.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},o.prototype.keydown_arrow=function(){var t,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},o.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},o.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},o.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},o.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},o.prototype.search_field_scale=function(){var t,i,n,o,s,r,a,l;if(this.is_multiple){for(i=0,r=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],
a=0,l=s.length;l>a;a++)n=s[a],o+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),r=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),r>this.f_width-10&&(r=this.f_width-10),this.search_field.css({width:r+"px"})}},o.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},o}(AbstractChosen),i.Chosen=t}.call(this),function(e){"use strict";e.fn.fitVids=function(t){var i={customSelector:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],o=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">'+o+"</style>",n.appendChild(s.childNodes[1])}return t&&e.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&t.push(i.customSelector);var n=e(this).find(t.join(","));n=n.not("object object"),n.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),n=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),o=i/n;if(!t.attr("id")){var s="fitvid"+Math.floor(999999*Math.random());t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t){var i={},n=/^jQuery\d+$/;return e.each(t.attributes,function(e,t){t.specified&&!n.test(t.name)&&(i[t.name]=t.value)}),i}function i(t,i){var n=this,s=e(n);if(n.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().nextAll('input[type="password"]:first').show().attr("id",s.removeAttr("id").data("placeholder-id")),t===!0)return s[0].value=i;s.focus()}else n.value="",s.removeClass("placeholder"),n==o()&&n.select()}function n(){var n,o=this,s=e(o),r=this.id;if(""===o.value){if("password"===o.type){if(!s.data("placeholder-textinput")){try{n=s.clone().attr({type:"text"})}catch(a){n=e("<input>").attr(e.extend(t(this),{type:"text"}))}n.removeAttr("name").data({"placeholder-password":s,"placeholder-id":r}).bind("focus.placeholder",i),s.data({"placeholder-textinput":n,"placeholder-id":r}).before(n)}s=s.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",r).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}function o(){try{return document.activeElement}catch(e){}}var s,r,a="[object OperaMini]"==Object.prototype.toString.call(window.operamini),l="placeholder"in document.createElement("input")&&!a,d="placeholder"in document.createElement("textarea")&&!a,u=e.valHooks,h=e.propHooks;l&&d?(r=e.fn.placeholder=function(){return this},r.input=r.textarea=!0):(r=e.fn.placeholder=function(){var e=this;return e.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":n}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},r.input=l,r.textarea=d,s={get:function(t){var i=e(t),n=i.data("placeholder-password");return n?n[0].value:i.data("placeholder-enabled")&&i.hasClass("placeholder")?"":t.value},set:function(t,s){var r=e(t),a=r.data("placeholder-password");return a?a[0].value=s:r.data("placeholder-enabled")?(""===s?(t.value=s,t!=o()&&n.call(t)):r.hasClass("placeholder")?i.call(t,!0,s)||(t.value=s):t.value=s,r):t.value=s}},l||(u.input=s,h.value=s),d||(u.textarea=s,h.value=s),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e(".placeholder",this).each(i);setTimeout(function(){t.each(n)},10)})}),e(window).bind("beforeunload.placeholder",function(){e(".placeholder").each(function(){this.value=""})}))}),function(e){e.fn.hoverIntent=function(t,i,n){var o={interval:100,sensitivity:6,timeout:0};o="object"==typeof t?e.extend(o,t):e.isFunction(i)?e.extend(o,{over:t,out:i,selector:n}):e.extend(o,{over:t,out:t,selector:i});var s,r,a,l,d=function(e){s=e.pageX,r=e.pageY},u=function(t,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.sqrt((a-s)*(a-s)+(l-r)*(l-r))<o.sensitivity?(e(i).off("mousemove.hoverIntent",d),i.hoverIntent_s=!0,o.over.apply(i,[t])):(a=s,l=r,i.hoverIntent_t=setTimeout(function(){u(t,i)},o.interval),void 0)},h=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,o.out.apply(t,[e])},c=function(t){var i=e.extend({},t),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===t.type?(a=i.pageX,l=i.pageY,e(n).on("mousemove.hoverIntent",d),n.hoverIntent_s||(n.hoverIntent_t=setTimeout(function(){u(i,n)},o.interval))):(e(n).off("mousemove.hoverIntent",d),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){h(i,n)},o.timeout)))};return this.on({"mouseenter.hoverIntent":c,"mouseleave.hoverIntent":c},o.selector)}}(jQuery),function(e){"use strict";e.picturefill=function(){for(var t=e.document.getElementsByTagName("span"),i=0,n=t.length;n>i;i++)if(null!==t[i].getAttribute("data-picture")){for(var o=t[i].getElementsByTagName("span"),s=[],r=0,a=o.length;a>r;r++){var l=o[r].getAttribute("data-media");(!l||e.matchMedia&&e.matchMedia(l).matches)&&s.push(o[r])}var d=t[i].getElementsByTagName("img")[0];if(s.length){var u=s.pop();if(d&&"NOSCRIPT"!==d.parentNode.nodeName){if(u===d.parentNode)continue}else d=e.document.createElement("img"),d.alt=t[i].getAttribute("data-alt");d.src=u.getAttribute("data-src"),u.appendChild(d),d.removeAttribute("width"),d.removeAttribute("height")}else d&&d.parentNode.removeChild(d)}},e.addEventListener?(e.addEventListener("resize",e.picturefill,!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill)}(this),window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e,t,i){var n=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=i(n):"function"==typeof define&&define.amd?define(function(){return t[e]=i(n)}):t[e]=i(n)}("enquire",this,function(e){"use strict";function t(e,t){var i,n=0,o=e.length;for(n;o>n&&(i=t(e[n],n),i!==!1);n++);}function i(e){return"[object Array]"===Object.prototype.toString.apply(e)}function n(e){return"function"==typeof e}function o(e){this.options=e,!e.deferSetup&&this.setup()}function s(t,i){this.query=t,this.isUnconditional=i,this.handlers=[],this.mql=e(t);var n=this;this.listener=function(e){n.mql=e,n.assess()},this.mql.addListener(this.listener)}function r(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return o.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={addHandler:function(e){var t=new o(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var i=this.handlers;t(i,function(t,n){return t.equals(e)?(t.destroy(),!i.splice(n,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},r.prototype={register:function(e,o,r){var a=this.queries,l=r&&this.browserIsIncapable;return a[e]||(a[e]=new s(e,l)),n(o)&&(o={match:o}),i(o)||(o=[o]),t(o,function(t){n(t)&&(t={match:t}),a[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},new r}),!function(e){function t(){}function i(e){function i(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function o(t,i){e.fn[t]=function(o){if("string"==typeof o){for(var r=n.call(arguments,1),a=0,l=this.length;l>a;a++){var d=this[a],u=e.data(d,t);if(u)if(e.isFunction(u[o])&&"_"!==o.charAt(0)){var h=u[o].apply(u,r);if(void 0!==h)return h}else s("no such method '"+o+"' for "+t+" instance");else s("cannot call methods on "+t+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var n=e.data(this,t);n?(n.option(o),n._init()):(n=new i(this,o),e.data(this,t,n))})}}if(e){var s="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){i(t),o(e,t)},e.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var o=function(){};i.removeEventListener?o=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(o=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var s={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:e.eventie=s}(window),function(){function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,o=this,s=o.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,o=this.getListenersAsObject(e),s="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===t(o[n],i)&&o[n].push(s?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,o,s=this.getListenersAsObject(e);for(o in s)s.hasOwnProperty(o)&&(n=t(s[o],i),-1!==n&&s[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,o,s=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)s.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?s.call(this,n,o):r.call(this,n,o));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,o,s,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].length;n--;)i=r[o][n],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:o.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof n[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,o=0,s=i.length;s>o;o++)if(t=i[o]+e,"string"==typeof n[t])return t}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),i=-1===e.indexOf("%")&&!isNaN(t);return i&&t}function i(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,i=r.length;i>t;t++){var n=r[t];e[n]=0}return e}function o(i){function o(){if(!c){c=!0;var n=e.getComputedStyle;if(d=function(){var e=n?function(e){return n(e,null)}:function(e){return e.currentStyle};return function(t){var i=e(t);return i||s("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),u=i("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[u]="border-box";var r=document.body||document.documentElement;r.appendChild(o);var a=d(o);h=200===t(a.width),r.removeChild(o)}}}function a(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=d(e);if("none"===i.display)return n();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var a=s.isBorderBox=!(!u||!i[u]||"border-box"!==i[u]),c=0,f=r.length;f>c;c++){var p=r[c],m=i[p];m=l(e,m);var _=parseFloat(m);s[p]=isNaN(_)?0:_}var v=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,y=s.marginLeft+s.marginRight,b=s.marginTop+s.marginBottom,w=s.borderLeftWidth+s.borderRightWidth,x=s.borderTopWidth+s.borderBottomWidth,S=a&&h,C=t(i.width);C!==!1&&(s.width=C+(S?0:v+w));var I=t(i.height);return I!==!1&&(s.height=I+(S?0:g+x)),s.innerWidth=s.width-(v+w),s.innerHeight=s.height-(g+x),s.outerWidth=s.width+y,s.outerHeight=s.height+b,s}}function l(t,i){if(e.getComputedStyle||-1===i.indexOf("%"))return i;var n=t.style,o=n.left,s=t.runtimeStyle,r=s&&s.left;return r&&(s.left=t.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,r&&(s.left=r),i}var d,u,h,c=!1;return a}var s="undefined"==typeof console?i:function(e){console.error(e)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):e.getSize=o(e.getStyleProperty)}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():r.push(e))}function i(e){var i="readystatechange"===e.type&&"complete"!==s.readyState;t.isReady||i||n()}function n(){t.isReady=!0;for(var e=0,i=r.length;i>e;e++){var n=r[e];n()}}function o(o){return"complete"===s.readyState?n():(o.bind(s,"DOMContentLoaded",i),o.bind(s,"readystatechange",i),o.bind(e,"load",i)),t}var s=e.document,r=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):e.docReady=o(e.eventie)}(window),function(e){function t(e,t){return e[r](t)}function i(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function n(e,t){i(e);for(var n=e.parentNode.querySelectorAll(t),o=0,s=n.length;s>o;o++)if(n[o]===e)return!0;return!1}function o(e,n){return i(e),t(e,n)}var s,r=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var o=t[i],s=o+"MatchesSelector";if(e[s])return s}}();if(r){var a=document.createElement("div"),l=t(a,"div");s=l?t:o}else s=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):"object"==typeof exports?module.exports=s:window.matchesSelector=s}(Element.prototype),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("doc-ready"),require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.docReady,e.matchesSelector)}(window,function(e,t,i){var n={};n.extend=function(e,t){for(var i in t)e[i]=t[i];return e},n.modulo=function(e,t){return(e%t+t)%t};var o=Object.prototype.toString;n.isArray=function(e){return"[object Array]"==o.call(e)},n.makeArray=function(e){var t=[];if(n.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var i=0,o=e.length;o>i;i++)t.push(e[i]);else t.push(e);return t},n.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},n.removeFrom=function(e,t){var i=n.indexOf(e,t);-1!=i&&e.splice(i,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},n.setText=function(){function e(e,i){t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText"),e[t]=i}var t;return e}(),n.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,i(e,t))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,t){e=n.makeArray(e);for(var o=[],s=0,r=e.length;r>s;s++){var a=e[s];if(n.isElement(a))if(t){i(a,t)&&o.push(a);for(var l=a.querySelectorAll(t),d=0,u=l.length;u>d;d++)o.push(l[d])}else o.push(a)}return o},n.debounceMethod=function(e,t,i){var n=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,t),delete s[o]},i||100)}},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var s=e.console;return n.htmlInit=function(i,o){t(function(){for(var t=n.toDashed(o),r=document.querySelectorAll(".js-"+t),a="data-"+t+"-options",l=0,d=r.length;d>l;l++){var u,h=r[l],c=h.getAttribute(a);try{u=c&&JSON.parse(c)}catch(f){s&&s.error("Error parsing "+a+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+f);continue}var p=new i(h,u),m=e.jQuery;m&&m.data(h,o,p)}})},n}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,n,o,s){return t(e,i,n,o,s)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(e.Outlayer={},e.Outlayer.Item=t(e,e.EventEmitter,e.getSize,e.getStyleProperty,e.fizzyUIUtils))}(window,function(e,t,i,n,o){function s(e){for(var t in e)return!1;return t=null,!0}function r(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function a(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var l=e.getComputedStyle,d=l?function(e){return l(e,null)}:function(e){return e.currentStyle},u=n("transition"),h=n("transform"),c=u&&h,f=!!n("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],m=["transform","transition","transitionDuration","transitionProperty"],_=function(){for(var e={},t=0,i=m.length;i>t;t++){var o=m[t],s=n(o);s&&s!==o&&(e[o]=s)}return e}();o.extend(r.prototype,t.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(e){var t=this.element.style;for(var i in e){var n=_[i]||i;t[n]=e[i]}},r.prototype.getPosition=function(){var e=d(this.element),t=this.layout.options,i=t.isOriginLeft,n=t.isOriginTop,o=e[i?"left":"right"],s=e[n?"top":"bottom"],r=this.layout.size,a=-1!=o.indexOf("%")?parseFloat(o)/100*r.width:parseInt(o,10),l=-1!=s.indexOf("%")?parseFloat(s)/100*r.height:parseInt(s,10);a=isNaN(a)?0:a,l=isNaN(l)?0:l,a-=i?r.paddingLeft:r.paddingRight,l-=n?r.paddingTop:r.paddingBottom,this.position.x=a,this.position.y=l},r.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,i={},n=t.isOriginLeft?"paddingLeft":"paddingRight",o=t.isOriginLeft?"left":"right",s=t.isOriginLeft?"right":"left",r=this.position.x+e[n];i[o]=this.getXValue(r),i[s]="";var a=t.isOriginTop?"paddingTop":"paddingBottom",l=t.isOriginTop?"top":"bottom",d=t.isOriginTop?"bottom":"top",u=this.position.y+e[a];i[l]=this.getYValue(u),i[d]="",this.css(i),this.emitEvent("layout",[this])},r.prototype.getXValue=function(e){var t=this.layout.options;return t.percentPosition&&!t.isHorizontal?e/this.layout.size.width*100+"%":e+"px"},r.prototype.getYValue=function(e){var t=this.layout.options;return t.percentPosition&&t.isHorizontal?e/this.layout.size.height*100+"%":e+"px"},r.prototype._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(e,10),s=parseInt(t,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(e,t),r&&!this.isTransitioning)return void this.layoutPosition();var a=e-i,l=t-n,d={};d.transform=this.getTranslate(a,l),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.prototype.getTranslate=function(e,t){var i=this.layout.options;return e=i.isOriginLeft?e:-e,t=i.isOriginTop?t:-t,f?"translate3d("+e+"px, "+t+"px, 0)":"translate("+e+"px, "+t+"px)"},r.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},r.prototype.moveTo=c?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},r.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},r.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);var n=this.element.offsetHeight;n=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v="opacity,"+a(_.transform||"transform");r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},r.prototype.transition=r.prototype[u?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},r.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=g[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],s(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd){var n=t.onEnd[i];n.call(this),delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(y)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("visibleStyle");t[i]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},r.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},r.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");t[i]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},r.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,s,r){return t(e,i,n,o,s,r)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.eventie,e.EventEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,i,n,o,s){function r(e,t){var i=o.getQueryElement(e);if(!i)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||e)));this.element=i,l&&(this.$element=l(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(t);var n=++u;this.element.outlayerGUID=n,h[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var a=e.console,l=e.jQuery,d=function(){},u=0,h={};return r.namespace="outlayer",r.Item=s,r.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},o.extend(r.prototype,i.prototype),r.prototype.option=function(e){o.extend(this.options,e)},r.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},r.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},r.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],o=0,s=t.length;s>o;o++){var r=t[o],a=new i(r,this);n.push(a)}return n},r.prototype._filterFindItemElements=function(e){return o.filterFindElements(e,this.options.itemSelector)},r.prototype.getItemElements=function(){for(var e=[],t=0,i=this.items.length;i>t;t++)e.push(this.items[t].element);return e},r.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},r.prototype._init=r.prototype.layout,r.prototype._resetLayout=function(){this.getSize()},r.prototype.getSize=function(){this.size=n(this.element)},r.prototype._getMeasurement=function(e,t){var i,s=this.options[e];s?("string"==typeof s?i=this.element.querySelector(s):o.isElement(s)&&(i=s),this[e]=i?n(i)[t]:s):this[e]=0},r.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},r.prototype._getItemsForLayout=function(e){for(var t=[],i=0,n=e.length;n>i;i++){var o=e[i];o.isIgnored||t.push(o)}return t},r.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var i=[],n=0,o=e.length;o>n;n++){var s=e[n],r=this._getItemLayoutPosition(s);r.item=s,r.isInstant=t||s.isLayoutInstant,i.push(r)}this._processLayoutQueue(i)}},r.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},r.prototype._processLayoutQueue=function(e){for(var t=0,i=e.length;i>t;t++){var n=e[t];this._positionItem(n.item,n.x,n.y,n.isInstant)}},r.prototype._positionItem=function(e,t,i,n){n?e.goTo(t,i):e.moveTo(t,i)},r.prototype._postLayout=function(){this.resizeContainer()},r.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},r.prototype._getContainerSize=d,r.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},r.prototype._emitCompleteOnItems=function(e,t){function i(){o.dispatchEvent(e+"Complete",null,[t])}function n(){r++,r===s&&i()}var o=this,s=t.length;if(!t||!s)return void i();for(var r=0,a=0,l=t.length;l>a;a++){var d=t[a];d.once(e,n)}},r.prototype.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),l)if(this.$element=this.$element||l(this.element),t){var o=l.Event(t);o.type=e,this.$element.trigger(o,i)}else this.$element.trigger(e,i)},r.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},r.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},r.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,i=e.length;i>t;t++){var n=e[t];this.ignore(n)}}},r.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,i=e.length;i>t;t++){var n=e[t];o.removeFrom(this.stamps,n),this.unignore(n)}},r.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),
e=o.makeArray(e)):void 0},r.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var i=this.stamps[e];this._manageStamp(i)}}},r.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},r.prototype._manageStamp=d,r.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,o=n(e),s={left:t.left-i.left-o.marginLeft,top:t.top-i.top-o.marginTop,right:i.right-t.right-o.marginRight,bottom:i.bottom-t.bottom-o.marginBottom};return s},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},r.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},r.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},r.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},r.prototype.needsResizeLayout=function(){var e=n(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},r.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},r.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},r.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},r.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,i=0;t&&t>i;i++){var n=e[i];n.reveal()}},r.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,i=0;t&&t>i;i++){var n=e[i];n.hide()}},r.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},r.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},r.prototype.getItem=function(e){for(var t=0,i=this.items.length;i>t;t++){var n=this.items[t];if(n.element===e)return n}},r.prototype.getItems=function(e){e=o.makeArray(e);for(var t=[],i=0,n=e.length;n>i;i++){var s=e[i],r=this.getItem(s);r&&t.push(r)}return t},r.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var i=0,n=t.length;n>i;i++){var s=t[i];s.remove(),o.removeFrom(this.items,s)}},r.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,i=this.items.length;i>t;t++){var n=this.items[t];n.destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete h[o],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},r.data=function(e){e=o.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&h[t]},r.create=function(e,t){function i(){r.apply(this,arguments)}return Object.create?i.prototype=Object.create(r.prototype):o.extend(i.prototype,r.prototype),i.prototype.constructor=i,i.defaults=o.extend({},r.defaults),o.extend(i.defaults,t),i.prototype.settings={},i.namespace=e,i.data=r.data,i.Item=function(){s.apply(this,arguments)},i.Item.prototype=new s,o.htmlInit(i,e),l&&l.bridget&&l.bridget(e,i),i},r.Item=s,r}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,t,i){var n=e.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,s=o/n,r=n-o%n,a=r&&1>r?"round":"floor";s=Math[a](s),this.cols=Math.max(s,1)},n.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,i=t(e);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=t&&1>t?"round":"ceil",o=Math[n](e.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var s=this._getColGroup(o),r=Math.min.apply(Math,s),a=i.indexOf(s,r),l={x:this.columnWidth*a,y:r},d=r+e.size.outerHeight,u=this.cols+1-s.length,h=0;u>h;h++)this.colYs[a+h]=d;return l},n.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;i>n;n++){var o=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,o)}return t},n.prototype._manageStamp=function(e){var i=t(e),n=this._getElementOffset(e),o=this.options.isOriginLeft?n.left:n.right,s=o+i.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var a=Math.floor(s/this.columnWidth);a-=s%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,d=r;a>=d;d++)this.colYs[d]=Math.max(l,this.colYs[d])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},n.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},n}),function(){function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,o=this,s=o.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if("object"==typeof e){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;e.length>t;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,o=this.getListenersAsObject(e),s="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===t(o[n],i)&&o[n].push(s?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,o,s=this.getListenersAsObject(e);for(o in s)s.hasOwnProperty(o)&&(n=t(s[o],i),-1!==n&&s[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,o,s=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)s.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?s.call(this,n,o):r.call(this,n,o));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if("object"===i)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,o,s,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].length;n--;)i=r[o][n],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var o=function(){};i.removeEventListener?o=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(o=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var s={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",s):e.eventie=s}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){function n(e,t){for(var i in t)e[i]=t[i];return e}function o(e){return"[object Array]"===c.call(e)}function s(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,t,i){if(!(this instanceof r))return new r(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=s(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var o=this;setTimeout(function(){o.check()})}function a(e){this.img=e}function l(e){this.src=e,f[e]=this}var d=e.jQuery,u=e.console,h=void 0!==u,c=Object.prototype.toString;r.prototype=new t,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),s=0,r=o.length;r>s;s++){var a=o[s];this.addImage(a)}}},r.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},r.prototype.check=function(){function e(e,o){return t.options.debug&&h&&u.log("confirm",e,o),t.progress(e),i++,i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var s=this.images[o];s.on("confirm",e),s.check()}},r.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},d&&(d.fn.imagesLoaded=function(e,t){var i=new r(this,e,t);return i.jqDeferred.promise(d(this))}),a.prototype=new t,a.prototype.check=function(){var e=f[this.img.src]||new l(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var f={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},r}),function(e,t,i,n){function o(t,i){this.el=t,this.$el=e(this.el),this.options=e.extend({},r,i),this._defaults=r,this._name=s,this.init()}var s="nivoLightbox",r={effect:"fade",theme:"default",keyboardNav:!0,clickOverlayToClose:!0,onInit:function(){},beforeShowLightbox:function(){},afterShowLightbox:function(e){},beforeHideLightbox:function(){},afterHideLightbox:function(){},onPrev:function(e){},onNext:function(e){},errorMessage:"The requested content cannot be loaded. Please try again later."};o.prototype={init:function(){var t=this;e("html").hasClass("nivo-lightbox-notouch")||e("html").addClass("nivo-lightbox-notouch"),"ontouchstart"in i&&e("html").removeClass("nivo-lightbox-notouch"),this.$el.on("click",function(e){t.showLightbox(e)}),this.options.keyboardNav&&e("body").off("keyup").on("keyup",function(i){var n=i.keyCode?i.keyCode:i.which;27==n&&t.destructLightbox(),37==n&&e(".nivo-lightbox-prev").trigger("click"),39==n&&e(".nivo-lightbox-next").trigger("click")}),this.options.onInit.call(this)},showLightbox:function(t){var i=this,n=this.$el,o=this.checkContent(n);if(o){t.preventDefault(),this.options.beforeShowLightbox.call(this);var s=this.constructLightbox();if(s){var r=s.find(".nivo-lightbox-content");if(r){if(e("body").addClass("nivo-lightbox-body-effect-"+this.options.effect),this.processContent(r,n),this.$el.attr("data-lightbox-gallery")){var a=e('[data-lightbox-gallery="'+this.$el.attr("data-lightbox-gallery")+'"]');e(".nivo-lightbox-nav").show(),e(".nivo-lightbox-prev").off("click").on("click",function(t){t.preventDefault();var o=a.index(n);n=a.eq(o-1),e(n).length||(n=a.last()),i.processContent(r,n),i.options.onPrev.call(this,[n])}),e(".nivo-lightbox-next").off("click").on("click",function(t){t.preventDefault();var o=a.index(n);n=a.eq(o+1),e(n).length||(n=a.first()),i.processContent(r,n),i.options.onNext.call(this,[n])})}setTimeout(function(){s.addClass("nivo-lightbox-open"),i.options.afterShowLightbox.call(this,[s])},1)}}}},checkContent:function(e){var t=e.attr("href"),i=t.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);return null!==t.match(/\.(jpeg|jpg|gif|png)$/i)?!0:i?!0:"ajax"==e.attr("data-lightbox-type")?!0:"#"==t.substring(0,1)&&"inline"==e.attr("data-lightbox-type")?!0:"iframe"==e.attr("data-lightbox-type")?!0:!1},processContent:function(i,n){var o=this,s=n.attr("href"),r=s.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);if(i.html("").addClass("nivo-lightbox-loading"),this.isHidpi()&&n.attr("data-lightbox-hidpi")&&(s=n.attr("data-lightbox-hidpi")),null!==s.match(/\.(jpeg|jpg|gif|png)$/i)){var a=e("<img>",{src:s});a.one("load",function(){var n=e('<div class="nivo-lightbox-image" />');n.append(a),i.html(n).removeClass("nivo-lightbox-loading"),n.css({"line-height":e(".nivo-lightbox-content").height()+"px",height:e(".nivo-lightbox-content").height()+"px"}),e(t).resize(function(){n.css({"line-height":e(".nivo-lightbox-content").height()+"px",height:e(".nivo-lightbox-content").height()+"px"})})}).each(function(){this.complete&&e(this).load()}),a.error(function(){var t=e('<div class="nivo-lightbox-error"><p>'+o.options.errorMessage+"</p></div>");i.html(t).removeClass("nivo-lightbox-loading")})}else if(r){var l="",d="nivo-lightbox-video";if("youtube"==r[1]&&(l="http://www.youtube.com/embed/"+r[4],d="nivo-lightbox-youtube"),"youtu"==r[1]&&(l="http://www.youtube.com/embed/"+r[3],d="nivo-lightbox-youtube"),"vimeo"==r[1]&&(l="http://player.vimeo.com/video/"+r[3],d="nivo-lightbox-vimeo"),l){var u=e("<iframe>",{src:l,"class":d,frameborder:0,vspace:0,hspace:0,scrolling:"auto"});i.html(u),u.load(function(){i.removeClass("nivo-lightbox-loading")})}}else if("ajax"==n.attr("data-lightbox-type"))e.ajax({url:s,cache:!1,success:function(n){var o=e('<div class="nivo-lightbox-ajax" />');o.append(n),i.html(o).removeClass("nivo-lightbox-loading"),o.outerHeight()<i.height()&&o.css({position:"relative",top:"50%","margin-top":-(o.outerHeight()/2)+"px"}),e(t).resize(function(){o.outerHeight()<i.height()&&o.css({position:"relative",top:"50%","margin-top":-(o.outerHeight()/2)+"px"})})},error:function(){var t=e('<div class="nivo-lightbox-error"><p>'+o.options.errorMessage+"</p></div>");i.html(t).removeClass("nivo-lightbox-loading")}});else if("#"==s.substring(0,1)&&"inline"==n.attr("data-lightbox-type"))if(e(s).length){var h=e('<div class="nivo-lightbox-inline" />');h.append(e(s).clone().show()),i.html(h).removeClass("nivo-lightbox-loading"),h.outerHeight()<i.height()&&h.css({position:"relative",top:"50%","margin-top":-(h.outerHeight()/2)+"px"}),e(t).resize(function(){h.outerHeight()<i.height()&&h.css({position:"relative",top:"50%","margin-top":-(h.outerHeight()/2)+"px"})})}else{var c=e('<div class="nivo-lightbox-error"><p>'+o.options.errorMessage+"</p></div>");i.html(c).removeClass("nivo-lightbox-loading")}else{if("iframe"!=n.attr("data-lightbox-type"))return!1;var f=e("<iframe>",{src:s,"class":"nivo-lightbox-item",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});i.html(f),f.load(function(){i.removeClass("nivo-lightbox-loading")})}if(n.attr("title")){var p=e("<span>",{"class":"nivo-lightbox-title"});p.text(n.attr("title")),e(".nivo-lightbox-title-wrap").html(p)}else e(".nivo-lightbox-title-wrap").html("")},constructLightbox:function(){if(e(".nivo-lightbox-overlay").length)return e(".nivo-lightbox-overlay");var t=e("<div>",{"class":"nivo-lightbox-overlay nivo-lightbox-theme-"+this.options.theme+" nivo-lightbox-effect-"+this.options.effect}),i=e("<div>",{"class":"nivo-lightbox-wrap"}),n=e("<div>",{"class":"nivo-lightbox-content"}),o=e('<a href="#" class="nivo-lightbox-nav nivo-lightbox-prev">Previous</a><a href="#" class="nivo-lightbox-nav nivo-lightbox-next">Next</a>'),s=e('<a href="#" class="nivo-lightbox-close" title="Close">Close</a>'),r=e("<div>",{"class":"nivo-lightbox-title-wrap"}),a=0;a&&t.addClass("nivo-lightbox-ie"),i.append(n),i.append(r),t.append(i),t.append(o),t.append(s),e("body").append(t);var l=this;return l.options.clickOverlayToClose&&t.on("click",function(t){(t.target===this||e(t.target).hasClass("nivo-lightbox-content")||e(t.target).hasClass("nivo-lightbox-image"))&&l.destructLightbox()}),s.on("click",function(e){e.preventDefault(),l.destructLightbox()}),t},destructLightbox:function(){var t=this;this.options.beforeHideLightbox.call(this),e(".nivo-lightbox-overlay").removeClass("nivo-lightbox-open"),e(".nivo-lightbox-nav").hide(),e("body").removeClass("nivo-lightbox-body-effect-"+t.options.effect);var i=0;i&&(e(".nivo-lightbox-overlay iframe").attr("src"," "),e(".nivo-lightbox-overlay iframe").remove()),e(".nivo-lightbox-prev").off("click"),e(".nivo-lightbox-next").off("click"),e(".nivo-lightbox-content").empty(),this.options.afterHideLightbox.call(this)},isHidpi:function(){var e="(-webkit-min-device-pixel-ratio: 1.5),                              (min--moz-device-pixel-ratio: 1.5),                              (-o-min-device-pixel-ratio: 3/2),                              (min-resolution: 1.5dppx)";return t.devicePixelRatio>1?!0:t.matchMedia&&t.matchMedia(e).matches?!0:!1}},e.fn[s]=function(t){return this.each(function(){e.data(this,s)||e.data(this,s,new o(this,t))})}}(jQuery,window,document),function(e){function t(t,i){function n(e,t){return'<div style="'+(s._isMove?"":e!==s.currSlideId?s._opacityCSS:"z-index:0;")+'" class="rsSlide '+(t||"")+'"></div>'}var o,s=this,r=navigator.userAgent.toLowerCase();s.uid=e.rsModules.uid++,s.ns=".rs"+s.uid;var a,l=document.createElement("div").style,d=["webkit","Moz","ms","O"],u="",h=0;for(o=0;o<d.length;o++)a=d[o],!u&&a+"Transform"in l&&(u=a),a=a.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[a+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-h)),o=window.setTimeout(function(){e(i+n)},n);return h=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),s.isIPAD=r.match(/(ipad)/);var c=function(e){var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},f=c(r),p={};if(f.browser&&(p[f.browser]=!0,p.version=f.version),p.chrome&&(p.webkit=!0),s._browser=p,s.slider=e(t),s.ev=e(s),s._doc=e(document),s.st=e.extend({},e.fn.royalSlider.defaults,i),s._currAnimSpeed=s.st.transitionSpeed,s._minPosOffset=0,s.st.allowCSS3&&(!p.webkit||s.st.allowCSS3OnWebkit)){var m=u+(u?"T":"t");s._useCSS3Transitions=m+"ransform"in l&&m+"ransition"in l,s._useCSS3Transitions&&(s._use3dTransform=u+(u?"P":"p")+"erspective"in l)}u=u.toLowerCase(),s._vendorPref="-"+u+"-",s._slidesHorizontal="vertical"===s.st.slidesOrientation?!1:!0,s._reorderProp=s._slidesHorizontal?"left":"top",s._sizeProp=s._slidesHorizontal?"width":"height",s._prevNavItemId=-1,s._isMove="fade"===s.st.transitionType?!1:!0,s._isMove||(s.st.sliderDrag=!1,s._fadeZIndex=10),s._opacityCSS="z-index:0; display:none; opacity:0;",s._newSlideId=0,s._sPosition=0,s._nextSlidePos=0,e.each(e.rsModules,function(e,t){"uid"!==e&&t.call(s)}),s.slides=[],s._idCount=0;var _=s.st.slides?e(s.st.slides):s.slider.children().detach();_.each(function(){s._parseNode(this,!0)}),s.st.randomizeSlides&&s.slides.sort(function(){return.5-Math.random()}),s.numSlides=s.slides.length,s._refreshNumPreloadImages(),s.st.startSlideId?s.st.startSlideId>s.numSlides-1&&(s.st.startSlideId=s.numSlides-1):s.st.startSlideId=0,s._newSlideId=s.staticSlideId=s.currSlideId=s._realId=s.st.startSlideId,s.currSlide=s.slides[s.currSlideId],s._accelerationPos=0,s.msTouch=!1,s.slider.addClass((s._slidesHorizontal?"rsHor":"rsVer")+(s._isMove?"":" rsFade"));var v='<div class="rsOverflow"><div class="rsContainer">';s.slidesSpacing=s.st.slidesSpacing,s._slideSize=(s._slidesHorizontal?s.slider.width():s.slider.height())+s.st.slidesSpacing,s._preload=Boolean(s._numPreloadImages>0),s.numSlides<=1&&(s._loop=!1);var g=s._loop&&s._isMove?2===s.numSlides?1:2:0;for(s._loopHelpers=g,s._maxImages=s.numSlides<6?s.numSlides:6,s._currBlockIndex=0,s._idOffset=0,s.slidesJQ=[],o=0;o<s.numSlides;o++)s.slidesJQ.push(e(n(o)));s._sliderOverflow=v=e(v+"</div></div>");var y=function(){s.st.sliderDrag&&(s._hasDrag=!0,p.msie||p.opera?s._grabCursor=s._grabbingCursor="move":p.mozilla?(s._grabCursor="-moz-grab",s._grabbingCursor="-moz-grabbing"):p.webkit&&-1!=navigator.platform.indexOf("Mac")&&(s._grabCursor="-webkit-grab",s._grabbingCursor="-webkit-grabbing"),s._setGrabCursor())},b=s.ns,w=function(e,t,i,n,o){s._downEvent=e+t+b,s._moveEvent=e+i+b,s._upEvent=e+n+b,o&&(s._cancelEvent=e+o+b)};s.msEnabled=window.navigator.msPointerEnabled,s.msEnabled?(s.msTouch=Boolean(window.navigator.msMaxTouchPoints>1),s.hasTouch=!1,s._lastItemFriction=.2,w("MSPointer","Down","Move","Up","Cancel")):(w("mouse","down","move","up","up"),"ontouchstart"in window||"createTouch"in document?(s.hasTouch=!0,s._downEvent+=" touchstart"+b,s._moveEvent+=" touchmove"+b,s._upEvent+=" touchend"+b,s._cancelEvent+=" touchcancel"+b,s._lastItemFriction=.5,s.st.sliderTouch&&(s._hasDrag=!0)):(s.hasTouch=!1,s._lastItemFriction=.2)),y(),s.slider.html(v),s._controlsContainer=s.st.controlsInside?s._sliderOverflow:s.slider,s._slidesContainer=s._sliderOverflow.children(".rsContainer"),s.msEnabled&&s._slidesContainer.css("-ms-touch-action",s._slidesHorizontal?"pan-y":"pan-x"),s._preloader=e('<div class="rsPreloader"></div>');var x=s._slidesContainer.children(".rsSlide");if(s._currHolder=s.slidesJQ[s.currSlideId],s._selectedSlideHolder=0,s._useCSS3Transitions)if(s._TP="transition-property",s._TD="transition-duration",s._TTF="transition-timing-function",s._yProp=s._xProp=s._vendorPref+"transform",s._use3dTransform?(p.webkit&&s.slider.addClass("rsWebkit3d"),s._tPref1="translate3d(",s._tPref2="px, ",s._tPref3="px, 0px)"):(s._tPref1="translate(",s._tPref2="px, ",s._tPref3="px)"),s._isMove)s._slidesContainer[s._vendorPref+s._TP]=s._vendorPref+"transform";else{var S={};S[s._vendorPref+s._TP]="opacity",S[s._vendorPref+s._TD]=s.st.transitionSpeed+"ms",S[s._vendorPref+s._TTF]=s.st.css3easeInOut,x.css(S)}else s._xProp="left",s._yProp="top";var C;if(e(window).on("resize"+s.ns,function(){C&&clearTimeout(C),C=setTimeout(function(){s.updateSliderSize()},50)}),s.ev.trigger("rsAfterPropsSetup"),s.updateSliderSize(),s.st.keyboardNavEnabled&&s._bindKeyboardNav(),s.st.arrowsNavHideOnTouch&&(s.hasTouch||s.msTouch)&&(s.st.arrowsNav=!1),s.st.arrowsNav){var I="rsArrow",T=s._controlsContainer;if(e('<div class="'+I+" "+I+'Left"><div class="'+I+'Icn"></div></div><div class="'+I+" "+I+'Right"><div class="'+I+'Icn"></div></div>').appendTo(T),s._arrowLeft=T.children("."+I+"Left").click(function(e){e.preventDefault(),s.prev()}),s._arrowRight=T.children("."+I+"Right").click(function(e){e.preventDefault(),s.next()}),s.st.arrowsNavAutoHide&&!s.hasTouch){s._arrowLeft.addClass("rsHidden"),s._arrowRight.addClass("rsHidden");var P=T;P.one("mousemove.arrowshover",function(){s._arrowLeft.removeClass("rsHidden"),s._arrowRight.removeClass("rsHidden")}),P.hover(function(){s._arrowsAutoHideLocked||(s._arrowLeft.removeClass("rsHidden"),s._arrowRight.removeClass("rsHidden"))},function(){s._arrowsAutoHideLocked||(s._arrowLeft.addClass("rsHidden"),s._arrowRight.addClass("rsHidden"))})}s.ev.on("rsOnUpdateNav",function(){s._updateArrowsNav()}),s._updateArrowsNav()}s._hasDrag?s._slidesContainer.on(s._downEvent,function(e){s._onDragStart(e)}):s.dragSuccess=!1;var E=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];s._slidesContainer.click(function(t){if(!s.dragSuccess){var i=e(t.target),n=i.attr("class");if(-1!==e.inArray(n,E)&&s.toggleVideo())return!1;if(s.st.navigateByClick&&!s._blockActions){if(e(t.target).closest(".rsNoDrag",s._currHolder).length)return!0;s._mouseNext(t)}s.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(e){return s.dragSuccess?!1:(s._blockActions=!0,void setTimeout(function(){s._blockActions=!1},3))}),s.ev.trigger("rsAfterInit")}e.rsModules||(e.rsModules={uid:0}),t.prototype={constructor:t,_mouseNext:function(e){var t=this,i=e[t._slidesHorizontal?"pageX":"pageY"]-t._sliderOffset;i>=t._nextSlidePos?t.next():0>i&&t.prev()},_refreshNumPreloadImages:function(){var e,t=this;e=t.st.numImagesToPreload,t._loop=t.st.loop,t._loop&&(2===t.numSlides?(t._loop=!1,t.st.loopRewind=!0):t.numSlides<2&&(t.st.loopRewind=t._loop=!1)),t._loop&&e>0&&(t.numSlides<=4?e=1:t.st.numImagesToPreload>(t.numSlides-1)/2&&(e=Math.floor((t.numSlides-1)/2))),t._numPreloadImages=e},_parseNode:function(t,i){function n(e,t){if(t?a.images.push(e.attr(t)):a.images.push(e.text()),l){l=!1,a.caption="src"===t?e.attr("alt"):e.contents(),a.image=a.images[0],a.videoURL=e.attr("data-rsVideo");var i=e.attr("data-rsw"),n=e.attr("data-rsh");"undefined"!=typeof i&&i!==!1&&"undefined"!=typeof n&&n!==!1?(a.iW=parseInt(i),a.iH=parseInt(n)):r.st.imgWidth&&r.st.imgHeight&&(a.iW=r.st.imgWidth,a.iH=r.st.imgHeight)}}var o,s,r=this,a={},l=!0;return t=e(t),r._currContent=t,r.ev.trigger("rsBeforeParseNode",[t,a]),a.stopParsing?void 0:(t=r._currContent,a.id=r._idCount,a.contentAdded=!1,r._idCount++,a.images=[],a.isBig=!1,a.hasCover||(t.hasClass("rsImg")?(s=t,o=!0):(s=t.find(".rsImg"),s.length&&(o=!0)),o?(a.bigImage=s.eq(0).attr("data-rsBigImg"),s.each(function(){var t=e(this);t.is("a")?n(t,"href"):t.is("img")?n(t,"src"):n(t)})):t.is("img")&&(t.addClass("rsImg rsMainSlideImage"),n(t,"src"))),s=t.find(".rsCaption"),s.length&&(a.caption=s.remove()),a.content=t,r.ev.trigger("rsAfterParseNode",[t,a]),i&&r.slides.push(a),0===a.images.length&&(a.isLoaded=!0,a.isRendered=!1,a.isLoading=!1,a.images=null),a)},_bindKeyboardNav:function(){var e,t,i=this,n=function(e){37===e?i.prev():39===e&&i.next()};i._doc.on("keydown"+i.ns,function(o){i._isDragging||(t=o.keyCode,(37===t||39===t)&&(e||(n(t),e=setInterval(function(){n(t)},700))))}).on("keyup"+i.ns,function(t){e&&(clearInterval(e),e=null)})},goTo:function(e,t){var i=this;e!==i.currSlideId&&i._moveTo(e,i.st.transitionSpeed,!0,!t)},destroy:function(t){var i=this;i.ev.trigger("rsBeforeDestroy"),i._doc.off("keydown"+i.ns+" keyup"+i.ns+" "+i._moveEvent+" "+i._upEvent),i._slidesContainer.off(i._downEvent+" click"),i.slider.data("royalSlider",null),e.removeData(i.slider,"royalSlider"),e(window).off("resize"+i.ns),t&&i.slider.remove(),i.slides=null,i.slider=null,i.ev=null},_updateBlocksContent:function(t,i){function n(i,n,r){i.isAdded?(o(n,i),s(n,i)):(r||(r=d.slidesJQ[n]),i.holder?r=i.holder:(r=d.slidesJQ[n]=e(r),i.holder=r),i.appendOnLoaded=!1,s(n,i,r),o(n,i),d._addBlockToContainer(i,r,t),i.isAdded=!0,appended=!0)}function o(e,i){i.contentAdded||(d.setItemHtml(i,t),t||(i.contentAdded=!0))}function s(e,t,i){d._isMove&&(i||(i=d.slidesJQ[e]),i.css(d._reorderProp,(e+d._idOffset+c)*d._slideSize))}function r(e){if(u){if(e>h-1)return r(e-h);if(0>e)return r(h+e)}return e}var a,l,d=this,u=d._loop,h=d.numSlides;if(!isNaN(i))return r(i);var c,f,p=d.currSlideId,m=t?Math.abs(d._prevSlideId-d.currSlideId)>=d.numSlides-1?0:1:d._numPreloadImages,_=Math.min(2,m),v=!1,g=!1;for(l=p;p+1+_>l;l++)if(f=r(l),a=d.slides[f],a&&(!a.isAdded||!a.positionSet)){v=!0;break}for(l=p-1;l>p-1-_;l--)if(f=r(l),a=d.slides[f],a&&(!a.isAdded||!a.positionSet)){g=!0;break}if(v)for(l=p;p+m+1>l;l++)f=r(l),c=Math.floor((d._realId-(p-l))/d.numSlides)*d.numSlides,a=d.slides[f],a&&n(a,f);if(g)for(l=p-1;l>p-1-m;l--)f=r(l),c=Math.floor((d._realId-(p-l))/h)*h,a=d.slides[f],a&&n(a,f);if(!t){var y=r(p-m),b=r(p+m),w=y>b?0:y;for(l=0;h>l;l++)y>b&&l>y-1||(w>l||l>b)&&(a=d.slides[l],a&&a.holder&&(a.holder.detach(),a.isAdded=!1))}},setItemHtml:function(t,i){function n(){if(!t.images)return t.isRendered=!0,t.isLoaded=!0,t.isLoading=!1,void a(!0);if(!t.isLoading){var i,n;t.content.hasClass("rsImg")?(i=t.content,n=!0):i=t.content.find(".rsImg:not(img)"),i&&!i.is("img")&&i.each(function(){var i=e(this),o='<img class="rsImg" src="'+(i.is("a")?i.attr("href"):i.text())+'" />';n?t.content=e(o):i.replaceWith(o)}),i=n?t.content:t.content.find("img.rsImg"),d(),i.eq(0).addClass("rsMainSlideImage"),t.iW&&t.iH&&(t.isLoaded||h._resizeImage(t),a()),t.isLoading=!0;if(t.isBig)e("<img />").on("load.rs error.rs",function(e){o([this],!0)}).attr("src",t.image);else{t.loaded=[],t.imgLoaders=[];for(var s=0;s<t.images.length;s++){var r=e("<img />");t.imgLoaders.push(this),r.on("load.rs error.rs",function(e){t.loaded.push(this),t.loaded.length===t.imgLoaders.length&&o(t.loaded,!1)}).attr("src",t.images[s])}}}}function o(e,i){if(e.length){var n=e[0];n.src;if(i!==t.isBig){var o=t.holder.children();return void(o&&o.length>1&&u())}if(t.iW&&t.iH)return void s();if(t.iW=n.width,t.iH=n.height,t.iW&&t.iH)return void s();var r=new Image;r.onload=function(){r.width?(t.iW=r.width,t.iH=r.height,s()):setTimeout(function(){r.width&&(t.iW=r.width,t.iH=r.height),s()},1e3)},r.src=n.src}else s()}function s(){t.isLoaded=!0,t.isLoading=!1,a(),u(),l()}function r(){return!h._isMove&&t.images&&t.iW&&t.iH?void n():(t.holder.isWaiting=!0,d(),void(t.holder.slideId=-99));
}function a(){if(!t.isAppended){var e=h.st.visibleNearby,n=t.id-h._newSlideId;if(!i&&!t.appendOnLoaded&&h.st.fadeinLoadedSlide&&(0===n||(e||h._isAnimating||h._isDragging)&&(-1===n||1===n))){var o={visibility:"visible",opacity:0};o[h._vendorPref+"transition"]="opacity 400ms ease-in-out",t.content.css(o),setTimeout(function(){t.content.css("opacity",1)},16)}t.holder.find(".rsPreloader").length?t.holder.append(t.content):t.holder.html(t.content),t.isAppended=!0,t.isLoaded&&(h._resizeImage(t),l()),t.sizeReady||(t.sizeReady=!0,setTimeout(function(){h.ev.trigger("rsMaybeSizeReady",t)},100))}}function l(){t.loadedTriggered||(t.isLoaded=t.loadedTriggered=!0,t.holder.trigger("rsAfterContentSet"),h.ev.trigger("rsAfterContentSet",t))}function d(){h.st.usePreloader&&t.holder.html(h._preloader.clone())}function u(e){if(h.st.usePreloader){var i=t.holder.find(".rsPreloader");i.length&&i.remove()}}var h=this;return t.isLoaded?void a():void(i?r():n())},_addBlockToContainer:function(e,t,i){var n=this,o=e.holder;e.id-n._newSlideId;n._slidesContainer.append(o),e.appendOnLoaded=!1},_onDragStart:function(t,i){var n,o=this,s="touchstart"===t.type;if(o._isTouchGesture=s,o.ev.trigger("rsDragStart"),e(t.target).closest(".rsNoDrag",o._currHolder).length)return o.dragSuccess=!1,!0;if(i||o._isAnimating&&(o._wasAnimating=!0,o._stopAnimation()),o.dragSuccess=!1,o._isDragging)return void(s&&(o._multipleTouches=!0));if(s&&(o._multipleTouches=!1),o._setGrabbingCursor(),s){var r=t.originalEvent.touches;if(!(r&&r.length>0))return;n=r[0],r.length>1&&(o._multipleTouches=!0)}else t.preventDefault(),n=t,o.msEnabled&&(n=n.originalEvent);o._isDragging=!0,o._doc.on(o._moveEvent,function(e){o._onDragMove(e,i)}).on(o._upEvent,function(e){o._onDragRelease(e,i)}),o._currMoveAxis="",o._hasMoved=!1,o._pageX=n.pageX,o._pageY=n.pageY,o._startPagePos=o._accelerationPos=(i?o._thumbsHorizontal:o._slidesHorizontal)?n.pageX:n.pageY,o._horDir=0,o._verDir=0,o._currRenderPosition=i?o._thumbsPosition:o._sPosition,o._startTime=(new Date).getTime(),s&&o._sliderOverflow.on(o._cancelEvent,function(e){o._onDragRelease(e,i)})},_renderMovement:function(e,t){var i=this;if(i._checkedAxis){var n=i._renderMoveTime,o=e.pageX-i._pageX,s=e.pageY-i._pageY,r=i._currRenderPosition+o,a=i._currRenderPosition+s,l=t?i._thumbsHorizontal:i._slidesHorizontal,d=l?r:a,u=i._currMoveAxis;i._hasMoved=!0,i._pageX=e.pageX,i._pageY=e.pageY,"x"===u&&0!==o?i._horDir=o>0?1:-1:"y"===u&&0!==s&&(i._verDir=s>0?1:-1);var h=l?i._pageX:i._pageY,c=l?o:s;t?d>i._thumbsMinPosition?d=i._currRenderPosition+c*i._lastItemFriction:d<i._thumbsMaxPosition&&(d=i._currRenderPosition+c*i._lastItemFriction):i._loop||(i.currSlideId<=0&&h-i._startPagePos>0&&(d=i._currRenderPosition+c*i._lastItemFriction),i.currSlideId>=i.numSlides-1&&h-i._startPagePos<0&&(d=i._currRenderPosition+c*i._lastItemFriction)),i._currRenderPosition=d,n-i._startTime>200&&(i._startTime=n,i._accelerationPos=h),t?i._setThumbsPosition(i._currRenderPosition):i._isMove&&i._setPosition(i._currRenderPosition)}},_onDragMove:function(e,t){var i,n=this,o="touchmove"===e.type;if(!n._isTouchGesture||o){if(o){if(n._lockAxis)return;var s=e.originalEvent.touches;if(!s)return;if(s.length>1)return;i=s[0]}else i=e,n.msEnabled&&(i=i.originalEvent);if(n._hasMoved||(n._useCSS3Transitions&&(t?n._thumbsContainer:n._slidesContainer).css(n._vendorPref+n._TD,"0s"),function l(){n._isDragging&&(n._animFrame=requestAnimationFrame(l),n._renderMoveEvent&&n._renderMovement(n._renderMoveEvent,t))}()),n._checkedAxis)e.preventDefault(),n._renderMoveTime=(new Date).getTime(),n._renderMoveEvent=i;else{var r=t?n._thumbsHorizontal:n._slidesHorizontal,a=Math.abs(i.pageX-n._pageX)-Math.abs(i.pageY-n._pageY)-(r?-7:7);if(a>7){if(r)e.preventDefault(),n._currMoveAxis="x";else if(o)return void n._completeGesture();n._checkedAxis=!0}else if(-7>a){if(r){if(o)return void n._completeGesture()}else e.preventDefault(),n._currMoveAxis="y";n._checkedAxis=!0}}}},_completeGesture:function(){var e=this;e._lockAxis=!0,e._hasMoved=e._isDragging=!1,e._onDragRelease()},_onDragRelease:function(t,i){function n(e){return 100>e?100:e>500?500:e}function o(e,t){(h._isMove||i)&&(d=(-h._realId-h._idOffset)*h._slideSize,u=Math.abs(h._sPosition-d),h._currAnimSpeed=u/t,e&&(h._currAnimSpeed+=250),h._currAnimSpeed=n(h._currAnimSpeed),h._animateTo(d,!1))}var s,r,a,l,d,u,h=this,c="touchend"===t.type||"touchcancel"===t.type;if(!h._isTouchGesture||c){if(h._isTouchGesture=!1,h.ev.trigger("rsDragRelease"),h._renderMoveEvent=null,h._isDragging=!1,h._lockAxis=!1,h._checkedAxis=!1,h._renderMoveTime=0,cancelAnimationFrame(h._animFrame),h._hasMoved&&(i?h._setThumbsPosition(h._currRenderPosition):h._isMove&&h._setPosition(h._currRenderPosition)),h._doc.off(h._moveEvent).off(h._upEvent),c&&h._sliderOverflow.off(h._cancelEvent),h._setGrabCursor(),!h._hasMoved&&!h._multipleTouches&&i&&h._thumbsEnabled){var f=e(t.target).closest(".rsNavItem");return void(f.length&&h.goTo(f.index()))}var p=i?h._thumbsHorizontal:h._slidesHorizontal;if(!h._hasMoved||"y"===h._currMoveAxis&&p||"x"===h._currMoveAxis&&!p){if(i||!h._wasAnimating)return h._wasAnimating=!1,void(h.dragSuccess=!1);if(h._wasAnimating=!1,h.st.navigateByClick)return h._mouseNext(h.msEnabled?t.originalEvent:t),void(h.dragSuccess=!0);h.dragSuccess=!0}else h.dragSuccess=!0;h._wasAnimating=!1,h._currMoveAxis="";var m=h.st.minSlideOffset,_=c?t.originalEvent.changedTouches[0]:h.msEnabled?t.originalEvent:t,v=p?_.pageX:_.pageY,g=h._startPagePos,y=h._accelerationPos,b=h.currSlideId,w=h.numSlides,x=p?h._horDir:h._verDir,S=h._loop,C=!1;if(s=Math.abs(v-g),r=v-y,a=(new Date).getTime()-h._startTime,l=Math.abs(r)/a,0===x||1>=w)return void o(!0,l);if(!S&&!i)if(0>=b){if(x>0)return void o(!0,l)}else if(b>=w-1&&0>x)return void o(!0,l);if(i){var I,d=h._thumbsPosition;if(d>h._thumbsMinPosition)d=h._thumbsMinPosition;else if(d<h._thumbsMaxPosition)d=h._thumbsMaxPosition;else{var T=.003,P=l*l/(2*T),E=-h._thumbsPosition,M=h._thumbsContainerSize-h._thumbsViewportSize+h._thumbsPosition;if(r>0&&P>E?(E+=h._thumbsViewportSize/(15/(P/l*T)),l=l*E/P,P=E):0>r&&P>M&&(M+=h._thumbsViewportSize/(15/(P/l*T)),l=l*M/P,P=M),I=Math.max(Math.round(l/T),50),d+=P*(0>r?-1:1),d>h._thumbsMinPosition)return void h._animateThumbsTo(d,I,!0,h._thumbsMinPosition,200);if(d<h._thumbsMaxPosition)return void h._animateThumbsTo(d,I,!0,h._thumbsMaxPosition,200)}h._animateThumbsTo(d,I,!0)}else if(v>g+m){if(0>x)return void o(!1,l);h._moveTo("prev",n(Math.abs(h._sPosition-(-h._realId-h._idOffset+1)*h._slideSize)/l),C,!0,!0)}else if(g-m>v){if(x>0)return void o(!1,l);h._moveTo("next",n(Math.abs(h._sPosition-(-h._realId-h._idOffset-1)*h._slideSize)/l),C,!0,!0)}else o(!1,l)}},_setPosition:function(e){var t=this;e=t._sPosition=e,t._useCSS3Transitions?t._slidesContainer.css(t._xProp,t._tPref1+(t._slidesHorizontal?e+t._tPref2+0:0+t._tPref2+e)+t._tPref3):t._slidesContainer.css(t._slidesHorizontal?t._xProp:t._yProp,e)},updateSliderSize:function(e){var t,i,n=this;if(n.st.autoScaleSlider){var o=n.st.autoScaleSliderWidth,s=n.st.autoScaleSliderHeight;n.st.autoScaleHeight?(t=n.slider.width(),t!=n.width&&(n.slider.css("height",t*(s/o)),t=n.slider.width()),i=n.slider.height()):(i=n.slider.height(),i!=n.height&&(n.slider.css("width",i*(o/s)),i=n.slider.height()),t=n.slider.width())}else t=n.slider.width(),i=n.slider.height();if(e||t!=n.width||i!=n.height){n.width=t,n.height=i,n._wrapWidth=t,n._wrapHeight=i,n.ev.trigger("rsBeforeSizeSet"),n.ev.trigger("rsAfterSizePropSet"),n._sliderOverflow.css({width:n._wrapWidth,height:n._wrapHeight}),n._slideSize=(n._slidesHorizontal?n._wrapWidth:n._wrapHeight)+n.st.slidesSpacing,n._imagePadding=n.st.imageScalePadding;var r,a;for(a=0;a<n.slides.length;a++)r=n.slides[a],r.positionSet=!1,r&&r.images&&r.isLoaded&&(r.isRendered=!1,n._resizeImage(r));if(n._cloneHolders)for(a=0;a<n._cloneHolders.length;a++)r=n._cloneHolders[a],r.holder.css(n._reorderProp,(r.id+n._idOffset)*n._slideSize);n._updateBlocksContent(),n._isMove&&(n._useCSS3Transitions&&n._slidesContainer.css(n._vendorPref+"transition-duration","0s"),n._setPosition((-n._realId-n._idOffset)*n._slideSize)),n.ev.trigger("rsOnUpdateNav")}n._sliderOffset=n._sliderOverflow.offset(),n._sliderOffset=n._sliderOffset[n._reorderProp]},appendSlide:function(e,t){var i=this,n=i._parseNode(e);(isNaN(t)||t>i.numSlides)&&(t=i.numSlides),i.slides.splice(t,0,n),i.slidesJQ.splice(t,0,'<div style="'+(i._isMove?"position:absolute;":i._opacityCSS)+'" class="rsSlide"></div>'),t<i.currSlideId&&i.currSlideId++,i.ev.trigger("rsOnAppendSlide",[n,t]),i._refreshSlides(t),t===i.currSlideId&&i.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this,i=t.slides[e];i&&(i.holder&&i.holder.remove(),e<t.currSlideId&&t.currSlideId--,t.slides.splice(e,1),t.slidesJQ.splice(e,1),t.ev.trigger("rsOnRemoveSlide",[e]),t._refreshSlides(e),e===t.currSlideId&&t.ev.trigger("rsAfterSlideChange"))},_refreshSlides:function(e){var t=this,i=t.numSlides,n=t._realId<=0?0:Math.floor(t._realId/i);t.numSlides=t.slides.length,0===t.numSlides?(t.currSlideId=t._idOffset=t._realId=0,t.currSlide=t._oldHolder=null):t._realId=n*t.numSlides+t.currSlideId;for(var o=0;o<t.numSlides;o++)t.slides[o].id=o;t.currSlide=t.slides[t.currSlideId],t._currHolder=t.slidesJQ[t.currSlideId],t.currSlideId>=t.numSlides?t.goTo(t.numSlides-1):t.currSlideId<0&&t.goTo(0),t._refreshNumPreloadImages(),t._isMove&&t._loop&&t._slidesContainer.css(t._vendorPref+t._TD,"0ms"),t._refreshSlidesTimeout&&clearTimeout(t._refreshSlidesTimeout),t._refreshSlidesTimeout=setTimeout(function(){t._isMove&&t._setPosition((-t._realId-t._idOffset)*t._slideSize),t._updateBlocksContent(),t._isMove||t._currHolder.css({display:"block",opacity:1})},14),t.ev.trigger("rsOnUpdateNav")},_setGrabCursor:function(){var e=this;e._hasDrag&&e._isMove&&(e._grabCursor?e._sliderOverflow.css("cursor",e._grabCursor):(e._sliderOverflow.removeClass("grabbing-cursor"),e._sliderOverflow.addClass("grab-cursor")))},_setGrabbingCursor:function(){var e=this;e._hasDrag&&e._isMove&&(e._grabbingCursor?e._sliderOverflow.css("cursor",e._grabbingCursor):(e._sliderOverflow.removeClass("grab-cursor"),e._sliderOverflow.addClass("grabbing-cursor")))},next:function(e){var t=this;t._moveTo("next",t.st.transitionSpeed,!0,!e)},prev:function(e){var t=this;t._moveTo("prev",t.st.transitionSpeed,!0,!e)},_moveTo:function(e,t,i,n,o){var s,r,a,l=this;if(l.ev.trigger("rsBeforeMove",[e,n]),"next"===e?newItemId=l.currSlideId+1:"prev"===e?newItemId=l.currSlideId-1:newItemId=e=parseInt(e,10),!l._loop){if(newItemId<0)return void l._doBackAndForthAnim("left",!n);if(newItemId>=l.numSlides)return void l._doBackAndForthAnim("right",!n)}l._isAnimating&&(l._stopAnimation(!0),i=!1),r=newItemId-l.currSlideId,l._prevSlideId=l.currSlideId;var d,u=l.currSlideId,h=l.currSlideId+r,c=l._realId;l._loop?(h=l._updateBlocksContent(!1,h),c+=r):c=h,l._newSlideId=h,l._oldHolder=l.slidesJQ[l.currSlideId],l._realId=c,l.currSlideId=l._newSlideId,l.currSlide=l.slides[l.currSlideId],l._currHolder=l.slidesJQ[l.currSlideId];var f=l.st.slidesDiff,p=Boolean(r>0),m=Math.abs(r),_=Math.floor(u/l._numPreloadImages),v=Math.floor((u+(p?f:-f))/l._numPreloadImages),g=p?Math.max(_,v):Math.min(_,v),y=g*l._numPreloadImages+(p?l._numPreloadImages-1:0);y>l.numSlides-1?y=l.numSlides-1:0>y&&(y=0);var b=p?y-u:u-y;if(b>l._numPreloadImages&&(b=l._numPreloadImages),m>b+f)for(l._idOffset+=(m-(b+f))*(p?-1:1),t=1.4*t,a=0;a<l.numSlides;a++)l.slides[a].positionSet=!1;l._currAnimSpeed=t,l._updateBlocksContent(!0),o||(d=!0),s=(-c-l._idOffset)*l._slideSize,d?setTimeout(function(){l._isWorking=!1,l._animateTo(s,e,!1,i),l.ev.trigger("rsOnUpdateNav")},0):(l._animateTo(s,e,!1,i),l.ev.trigger("rsOnUpdateNav"))},_updateArrowsNav:function(){var e=this,t="rsArrowDisabled";if(e.st.arrowsNav){if(e.numSlides<=1)return e._arrowLeft.css("display","none"),void e._arrowRight.css("display","none");e._arrowLeft.css("display","block"),e._arrowRight.css("display","block"),e._loop||e.st.loopRewind||(0===e.currSlideId?e._arrowLeft.addClass(t):e._arrowLeft.removeClass(t),e.currSlideId===e.numSlides-1?e._arrowRight.addClass(t):e._arrowRight.removeClass(t))}},_animateTo:function(t,i,n,o,s){function r(){var e;a&&(e=a.data("rsTimeout"),e&&(a!==l&&a.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),a.data("rsTimeout",""))),e=l.data("rsTimeout"),e&&(clearTimeout(e),l.data("rsTimeout",""))}var a,l,d=this,u={};if(isNaN(d._currAnimSpeed)&&(d._currAnimSpeed=400),d._sPosition=d._currRenderPosition=t,d.ev.trigger("rsBeforeAnimStart"),d._useCSS3Transitions)if(d._isMove){d._currAnimSpeed=parseInt(d._currAnimSpeed);var h=d._vendorPref+d._TD,c=d._vendorPref+d._TTF;u[h]=d._currAnimSpeed+"ms",u[c]=o?e.rsCSS3Easing[d.st.easeInOut]:e.rsCSS3Easing[d.st.easeOut],d._slidesContainer.css(u),o||!d.hasTouch?setTimeout(function(){d._setPosition(t)},5):d._setPosition(t)}else d._currAnimSpeed=d.st.transitionSpeed,a=d._oldHolder,l=d._currHolder,l.data("rsTimeout")&&l.css("opacity",0),r(),a&&a.data("rsTimeout",setTimeout(function(){u[d._vendorPref+d._TD]="0ms",u.zIndex=0,u.display="none",a.data("rsTimeout",""),a.css(u),setTimeout(function(){a.css("opacity",0)},16)},d._currAnimSpeed+60)),u.display="block",u.zIndex=d._fadeZIndex,u.opacity=0,u[d._vendorPref+d._TD]="0ms",u[d._vendorPref+d._TTF]=e.rsCSS3Easing[d.st.easeInOut],l.css(u),l.data("rsTimeout",setTimeout(function(){l.css(d._vendorPref+d._TD,d._currAnimSpeed+"ms"),l.data("rsTimeout",setTimeout(function(){l.css("opacity",1),l.data("rsTimeout","")},20))},20));else d._isMove?(u[d._slidesHorizontal?d._xProp:d._yProp]=t+"px",d._slidesContainer.animate(u,d._currAnimSpeed,o?d.st.easeInOut:d.st.easeOut)):(a=d._oldHolder,l=d._currHolder,l.stop(!0,!0).css({opacity:0,display:"block",zIndex:d._fadeZIndex}),d._currAnimSpeed=d.st.transitionSpeed,l.animate({opacity:1},d._currAnimSpeed,d.st.easeInOut),r(),a&&a.data("rsTimeout",setTimeout(function(){a.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},d._currAnimSpeed+60)));d._isAnimating=!0,d.loadingTimeout&&clearTimeout(d.loadingTimeout),s?d.loadingTimeout=setTimeout(function(){d.loadingTimeout=null,s.call()},d._currAnimSpeed+60):d.loadingTimeout=setTimeout(function(){d.loadingTimeout=null,d._animationComplete(i)},d._currAnimSpeed+60)},_stopAnimation:function(e){var t=this;if(t._isAnimating=!1,clearTimeout(t.loadingTimeout),t._isMove)if(t._useCSS3Transitions){if(!e){var i=t._sPosition,n=t._currRenderPosition=t._getTransformProp();t._slidesContainer.css(t._vendorPref+t._TD,"0ms"),i!==n&&t._setPosition(n)}}else t._slidesContainer.stop(!0),t._sPosition=parseInt(t._slidesContainer.css(t._xProp),10);else t._fadeZIndex>20?t._fadeZIndex=10:t._fadeZIndex++},_getTransformProp:function(){var e=this,t=window.getComputedStyle(e._slidesContainer.get(0),null).getPropertyValue(e._vendorPref+"transform"),i=t.replace(/^matrix\(/i,"").split(/, |\)$/g),n=0===i[0].indexOf("matrix3d");return parseInt(i[e._slidesHorizontal?n?12:4:n?13:5],10)},_getCSS3Prop:function(e,t){var i=this;return i._useCSS3Transitions?i._tPref1+(t?e+i._tPref2+0:0+i._tPref2+e)+i._tPref3:e},_animationComplete:function(e){var t=this;t._isMove||(t._currHolder.css("z-index",0),t._fadeZIndex=10),t._isAnimating=!1,t.staticSlideId=t.currSlideId,t._updateBlocksContent(),t._slidesMoved=!1,t.ev.trigger("rsAfterSlideChange")},_doBackAndForthAnim:function(e,t){function i(){o._isAnimating=!1}function n(){o._isAnimating=!1,o._animateTo(s,"",!1,!0,i)}var o=this,s=(-o._realId-o._idOffset)*o._slideSize;if(0!==o.numSlides&&!o._isAnimating)return o.st.loopRewind?void o.goTo("left"===e?o.numSlides-1:0,t):void(o._isMove&&(o._currAnimSpeed=200,o._animateTo(s+("left"===e?30:-30),"",!1,!0,n)))},_resizeImage:function(e,t){var i=!0;if(!e.isRendered){var n,o,s=e.content,r="rsMainSlideImage",a=this,l=a.st.imageAlignCenter,d=a.st.imageScaleMode;if(e.videoURL&&(r="rsVideoContainer","fill"!==d?n=!0:(o=s,o.hasClass(r)||(o=o.find("."+r)),o.css({width:"100%",height:"100%"}),r="rsMainSlideImage")),s.hasClass(r)||(i=!1,s=s.find("."+r)),s){var u=e.iW,h=e.iH;if(e.isRendered=!0,"none"!==d||l){"fill"!==d?bMargin=a._imagePadding:bMargin=0;var c,f,p,m,_,v=a._wrapWidth-2*bMargin,g=a._wrapHeight-2*bMargin,y={};"fit-if-smaller"===d&&(u>v||h>g)&&(d="fit"),"fill"===d||"fit"===d?(c=v/u,f=g/h,p="fill"==d?c>f?c:f:"fit"==d?f>c?c:f:1,m=Math.ceil(u*p,10),_=Math.ceil(h*p,10)):(m=u,_=h),"none"!==d&&(y.width=m,y.height=_,n&&s.find(".rsImg").css({width:"100%",height:"100%"})),l&&(y.marginLeft=Math.floor((v-m)/2)+bMargin,y.marginTop=Math.floor((g-_)/2)+bMargin),s.css(y)}}}}},e.rsProto=t.prototype,e.fn.royalSlider=function(i){var n=arguments;return this.each(function(){var o=e(this);if("object"!=typeof i&&i){var s=o.data("royalSlider");if(s&&s[i])return s[i].apply(s,Array.prototype.slice.call(n,1))}else o.data("royalSlider")||o.data("royalSlider",new t(o,i))})},e.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},e.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},e.extend(jQuery.easing,{easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i}})}(jQuery,window),function(e){e.extend(e.rsProto,{_initAutoHeight:function(){var e=this;if(e.st.autoHeight){var t,i,n,o,s=function(s){n=e.slides[e.currSlideId],t=n.holder,t&&(i=t.height(),i&&i!==o&&(e._wrapHeight=i,e._useCSS3Transitions||!s?e._sliderOverflow.css("height",i):e._sliderOverflow.stop(!0,!0).animate({height:i},e.st.transitionSpeed)))};e.ev.on("rsMaybeSizeReady.rsAutoHeight",function(e,t){n===t&&s()}),e.ev.on("rsAfterContentSet.rsAutoHeight",function(e,t){n===t&&s()}),e.slider.addClass("rsAutoHeight"),e.ev.one("rsAfterInit",function(){setTimeout(function(){s(!1),setTimeout(function(){e.slider.append('<div style="clear:both; float: none;"></div>'),e._useCSS3Transitions&&e._sliderOverflow.css(e._vendorPref+"transition","height "+e.st.transitionSpeed+"ms ease-in-out")},16)},16)}),e.ev.on("rsBeforeAnimStart",function(){s(!0)}),e.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){s(!1)},16)})}}}),e.rsModules.autoHeight=e.rsProto._initAutoHeight}(jQuery),function(e){e.extend(e.rsProto,{_initAutoplay:function(){var t,i=this;i._autoPlayDefaults={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!i.st.autoPlay&&i.st.autoplay&&(i.st.autoPlay=i.st.autoplay),i.st.autoPlay=e.extend({},i._autoPlayDefaults,i.st.autoPlay),i.st.autoPlay.enabled&&(i.ev.on("rsBeforeParseNode",function(i,n,o){n=e(n),t=n.attr("data-rsDelay"),t&&(o.customDelay=parseInt(t,10))}),i.ev.one("rsAfterInit",function(){i._setupAutoPlay()}),i.ev.on("rsBeforeDestroy",function(){i.stopAutoPlay(),e(window).off("blur"+i.ns+" focus"+i.ns)}))},_setupAutoPlay:function(){var t=this;t.startAutoPlay(),t.ev.on("rsAfterContentSet",function(e,i){t._isDragging||t._isAnimating||!t._autoPlayEnabled||i!==t.currSlide||t._play()}),t.ev.on("rsDragRelease",function(){t._autoPlayEnabled&&t._autoPlayPaused&&(t._autoPlayPaused=!1,t._play())}),t.ev.on("rsAfterSlideChange",function(){t._autoPlayEnabled&&t._autoPlayPaused&&(t._autoPlayPaused=!1,t.currSlide.isLoaded&&t._play())}),t.ev.on("rsDragStart",function(){t._autoPlayEnabled&&(t.st.autoPlay.stopAtAction?t.stopAutoPlay():(t._autoPlayPaused=!0,t._pause()))}),t.ev.on("rsBeforeMove",function(e,i,n){t._autoPlayEnabled&&(n&&t.st.autoPlay.stopAtAction?t.stopAutoPlay():(t._autoPlayPaused=!0,t._pause()))}),t._pausedByVideo=!1,t.ev.on("rsVideoStop",function(){t._autoPlayEnabled&&(t._pausedByVideo=!1,t._play())}),t.ev.on("rsVideoPlay",function(){t._autoPlayEnabled&&(t._autoPlayPaused=!1,t._pause(),t._pausedByVideo=!0)}),e(window).on("blur"+t.ns,function(){t._autoPlayEnabled&&(t._autoPlayPaused=!0,t._pause())}).on("focus"+t.ns,function(){t._autoPlayEnabled&&t._autoPlayPaused&&(t._autoPlayPaused=!1,t._play())}),t.st.autoPlay.pauseOnHover&&(t._pausedByHover=!1,t.slider.hover(function(){t._autoPlayEnabled&&(t._autoPlayPaused=!1,t._pause(),t._pausedByHover=!0)},function(){t._autoPlayEnabled&&(t._pausedByHover=!1,t._play())}))},toggleAutoPlay:function(){var e=this;e._autoPlayEnabled?e.stopAutoPlay():e.startAutoPlay()},startAutoPlay:function(){var e=this;e._autoPlayEnabled=!0,e.currSlide.isLoaded&&e._play()},stopAutoPlay:function(){var e=this;e._pausedByVideo=e._pausedByHover=e._autoPlayPaused=e._autoPlayEnabled=!1,e._pause()},_play:function(){var e=this;e._pausedByHover||e._pausedByVideo||(e._autoPlayRunning=!0,e._autoPlayTimeout&&clearTimeout(e._autoPlayTimeout),e._autoPlayTimeout=setTimeout(function(){var t;e._loop||e.st.loopRewind||(t=!0,e.st.loopRewind=!0),e.next(!0),t&&(t=!1,e.st.loopRewind=!1)},e.currSlide.customDelay?e.currSlide.customDelay:e.st.autoPlay.delay))},_pause:function(){var e=this;e._pausedByHover||e._pausedByVideo||(e._autoPlayRunning=!1,e._autoPlayTimeout&&(clearTimeout(e._autoPlayTimeout),e._autoPlayTimeout=null))}}),e.rsModules.autoplay=e.rsProto._initAutoplay}(jQuery),jQuery(function(e){"use strict";e("html").not(".lt-ie9").coenvmenu()}),function(e,t,i,n){"use strict";e.CoEnvMenu=function(t,i){this.options=t,this.element=e(i),this._create(t)},e.CoEnvMenu.settings={outerSelector:"#outer",wrapperSelector:"#wrapper",menuSelector:".main-menu",submenuClass:"children",topMenuSelector:".top-menu",menuButtonSelector:"#show-menu button",topLevelItemSelector:".page-depth-0",mobileMenuClass:"mobile-menu",normalMenuClass:"normal-menu",normalTopMenuClass:"normal-top-menu",mobileTopMenuClass:"mobile-top-menu",mobileMenuActiveClass:"mobile-menu-active",mobileTopMenuActiveClass:"mobile-top-menu-active",menuItemActiveClass:"menu-item-active"},e.CoEnvMenu.prototype._create=function(t){this.options=e.extend(!0,{},e.CoEnvMenu.settings,t),this._init()},e.CoEnvMenu.prototype._init=function(){this.$outer=e(this.options.outerSelector),this.$wrapper=e(this.options.wrapperSelector),this.$menu=e(this.options.menuSelector),this.$topMenu=e(this.options.topMenuSelector),this.$menuButton=e(this.options.menuButtonSelector),this._buildMenu(),this._dropdowns(),this._setupMobileMenu(),this._addArrowIcons(),this._setupTopMenu(),this._handleMenuButton(),this._handleWrapperClicking(),this._handleMenuInteractions(),this._handleWindowResize()},e.CoEnvMenu.prototype._buildMenu=function(){var t=this,i=this.$menu.find(this.options.topLevelItemSelector),o=(i.find("> ."+this.options.submenuClass),e('<div class="submenu-container"></div>'));i.each(function(){var i,o,s=e(this).find("> span > a"),r=s.attr("title");i=r!==n&&r!==!1?r:s.text(),o=s.attr("href"),e(this).find("> ."+t.options.submenuClass).length||e(this).append('<ul class="'+t.options.submenuClass+'"></ul>'),e(this).find("> ."+t.options.submenuClass).prepend('<li class="pagenav"><a href="'+o+'">'+i+"</a></li>")}),this.$menu.find(this.options.topLevelItemSelector+" > ."+this.options.submenuClass).wrap(o)},e.CoEnvMenu.prototype._dropdowns=function(){var t=this;this.$menu.find(this.options.topLevelItemSelector).has("."+this.options.submenuClass).hoverIntent(function(){e(this).toggleClass(t.options.menuItemActiveClass)})},e.CoEnvMenu.prototype._setupMobileMenu=function(){this.$mobileMenu=this.$menu.clone(),this.$mobileMenu.removeClass(this.options.normalMenuClass).addClass(this.options.mobileMenuClass),this.$mobileMenu.appendTo(this.$outer).show()},e.CoEnvMenu.prototype._addArrowIcons=function(){this.$mobileMenu.find(this.options.topLevelItemSelector).has("."+this.options.submenuClass).each(function(){e(this).find("a").first().prepend("<i></i>")})},e.CoEnvMenu.prototype._setupTopMenu=function(){this.$mobileTopMenu=this.$topMenu.clone(),this.$mobileTopMenu.removeClass(this.options.normalTopMenuClass).addClass(this.options.mobileTopMenuClass),this.$mobileTopMenu.appendTo(this.$mobileMenu).show()},e.CoEnvMenu.prototype._handleMenuButton=function(){var e=this;this.$menuButton.fastClick(function(t){t.preventDefault(),e._toggleMobileMenu()})},e.CoEnvMenu.prototype._toggleMobileMenu=function(){e("html").toggleClass(this.options.mobileMenuActiveClass)},e.CoEnvMenu.prototype._handleWindowResize=function(){var i=this;e(t).on("resize",e.debounce(100,function(){e(t).width()>=768&&e("html").hasClass(i.options.mobileMenuActiveClass)&&i._toggleMobileMenu()}))},e.CoEnvMenu.prototype._handleWrapperClicking=function(){var t=this;this.$wrapper.on("click",function(i){e("html").hasClass(t.options.mobileMenuActiveClass)&&(i.preventDefault(),t._toggleMobileMenu())})},e.CoEnvMenu.prototype._handleMenuInteractions=function(){var t=this,i=this.$mobileMenu.find(this.options.topLevelItemSelector),n=i.find("> span > a");i.filter(".menu-item-active, .current_page_item, .current-page-ancestor").each(function(){e(this).addClass("expanded")}),n.fastClick(function(i){i.preventDefault();var n=e(this).parents(t.options.topLevelItemSelector),o=(e(this).find("i"),n.find("."+t.options.submenuClass));n.hasClass("expanded")?(o.slideUp(200),n.removeClass("expanded")):(o.slideDown(200),n.addClass("expanded"))})},e.CoEnvMenu.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))},e.fn.coenvmenu=function(t){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"coenvmenu");return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?void n[t].apply(n,i):void console.log("error",'no such method "'+t+'" for coenvmenu instance'):void console.log("error",'cannot call methods on coenvmenu prior to initialization; attempted to call method "'+t+'"')})}else this.each(function(){var i=e.data(this,"coenvmenu");i?(i.option(t||{}),i._init()):e.data(this,"coenvmenu",new e.CoEnvMenu(t,this))});return this}}(jQuery,window,document),jQuery(function(e){"use strict";e("#blog-header").blogHeader(),e("#careers-filter").blogHeader()}),$.fn.blogHeader=function(){"use strict";var e=$(this),t=e.find(".select-category select"),i=e.find(".select-month select");t.on("change",function(){var e=$(this).val(),t=$(this).parent("div").attr("data-url");window.location.href=t+e}),i.on("change",function(){var e=$(this).val();window.location.href=e})},function(e,t,i,n){"use strict";e.coenvshare=function(t,i){this.options=t,this.element=e(i),this._create(t)},e.coenvshare.settings={},e.coenvshare.prototype._create=function(t){this.options=e.extend(!0,{},e.coenvshare.settings,t),this._init()},e.coenvshare.prototype._init=function(){this.articleID=this.element.attr("data-article-id"),this.articleTitle=this.element.attr("data-article-title"),this.articleShortLink=this.element.attr("data-article-shortlink"),this.articlePermalink=this.element.attr("data-article-permalink"),"undefined"!=typeof this.articleID&&"undefined"!=typeof this.articleTitle&&"undefined"!=typeof this.articleShortLink&&"undefined"!=typeof this.articlePermalink&&(this.element.addClass("active"),this._buildModal(),this._interactions())},e.coenvshare.prototype._buildModal=function(){var t=[{name:"Twitter",className:"twitter",url:"http://twitter.com/home?status="+this.articleTitle+" "+this.articleShortLink+' from @UW_CoEnv" target="_blank'},{name:"Facebook",className:"facebook",url:"http://www.facebook.com/sharer/sharer.php?s=100&p[url]="+this.articleShortLink+'" target="_blank'},{name:"Email",className:"email",url:"mailto:?subject="+this.articleTitle+"&body=Check%20out%20this%20article%20from%20the%20UW%20College%20of%20the%20Environment:%20"+this.articleShortLink}];this.$modal=e('<div class="share-modal" role="dialog" aria-labelledby="shareModal" aria-hidden="true"></div>'),this.$modal.append('<div class="share-modal-inner"><ul class="share-modal-content"></ul></div>');for(var i=0,n=t.length;n>i;i++)this.$modal.find(".share-modal-content").append('<a href="'+t[i].url+'" ><li class="social-link share-'+t[i].className+'"></li></a>')},e.coenvshare.prototype._interactions=function(){var t=this;this.element.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.modalIsActive!==!0?t._launchModal():t._hideModal()}),e("body").on("click",function(i){t.modalIsActive===!0&&(e(i.target).is(".social-link")||t._hideModal())})},e.coenvshare.prototype._launchModal=function(){var t=this;e(".post-"+this.articleID).prepend(this.$modal),this.$modal.addClass("active"),this.modalIsActive=!0,setTimeout(function(){t.$modal.addClass("active-visible")},10)},e.coenvshare.prototype._hideModal=function(){var e=this;this.$modal.removeClass("active-visible"),e.$modal.removeClass("active"),e.$modal.remove(),e.modalIsActive=!1},e.coenvshare.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))},e.fn.coenvshare=function(t){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"coenvshare");return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?void n[t].apply(n,i):void console.log("error",'no such method "'+t+'" for coenvshare instance'):void console.log("error",'cannot call methods on coenvshare prior to initialization; attempted to call method "'+t+'"')})}else this.each(function(){var i=e.data(this,"coenvshare");i?(i.option(t||{}),i._init()):e.data(this,"coenvshare",new e.coenvshare(t,this))});return this}}(jQuery,window,document),jQuery(function(e){"use strict";if(!e("body").hasClass("lt-ie8")&&(e("select.chosen").chosen(),e("input, textarea").placeholder(),e("article").fitVids(),e(".Faculty-member-tab-nav").memberTabs(),e(".banner-wrapper").bannerReveals(),e(".share").coenvshare(),e("a:not([href*=youtube]):not([href*=youtu]):not([href*=vimeo])").nivoLightbox(),e("figure a img").each(function(){var t=e(this);t.parent().attr("title",t.attr("alt"))}),e("div.gallery img").each(function(){var t=e(this);t.parent().attr("title",t.attr("alt"))}),e("div.gallery a").each(function(){var t=e(this);t.attr("data-lightbox-gallery",t.closest("div").attr("id"))}),e("body").hasClass("post-type-archive-faculty")&&(e(".js .faculty-toolbox-roller-items").mCustomScrollbar({autoHideScrollbar:!1,setHeight:175,theme:"minimal-dark",scrollInteria:1}),e(".js .faculty-toolbox-roller-items").mCustomScrollbar("scrollTo",".Faculty-toolbox-roller-item--active")),e("body").hasClass("home"))){var t=e(".story-thung");t.hide(),e(".stories-container").imagesLoaded(function(){t.fadeIn(),e(".stories-container").masonry({itemSelector:".story",columnWidth:".story-sizer",percentPosition:!0})})}}),$.fn.bannerReveals=function(){"use strict";return this.each(function(){var e=$(this),t=$(".banner-info"),i="banner-revealed";t.on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").toggleClass(i)}),e.on("click",function(){$("body").hasClass(i)&&$("body").removeClass(i)})})},$.fn.handleFitVids=function(){"use strict";$(this).fitVids(),$(".fluid-width-video-wrapper").each(function(){var e=$(this),t=parseFloat(e.css("max-width")),i=parseFloat(e[0].style["padding-top"]),n=t*(.01*i)+"%";e.css("padding-top",n)})},$.fn.memberTabs=function(){"use strict";var e=$(this),t=$(".Faculty-member-tabs"),i="active-tab";e.find("a").click(function(n){n.preventDefault();var o=($(this),t.find("."+$(this).attr("data-tab")));e.find("."+i).removeClass(i),$(this).parent("li").addClass(i),t.find("."+i).removeClass(i),o.addClass(i)})};